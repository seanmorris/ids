!function(){"use strict";var t="undefined"==typeof global?self:global;if("function"!=typeof t.require){var e={},n={},r={},i={}.hasOwnProperty,a=/^\.\.?(\/|$)/,o=function(t,e){for(var n,r=[],i=(a.test(e)?t+"/"+e:e).split("/"),o=0,s=i.length;o<s;o++)".."===(n=i[o])?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},s=function(t){return t.split("/").slice(0,-1).join("/")},c=function(e,r){var i,a={id:e,exports:{},hot:d&&d.createHot(e)};return n[e]=a,r(a.exports,(i=e,function(e){var n=o(s(i),e);return t.require(n,i)}),a),a.exports},u=function(t){var e=r[t];return e&&t!==e?u(e):t},l=function(t,r){null==r&&(r="/");var a=u(t);if(i.call(n,a))return n[a].exports;if(i.call(e,a))return c(a,e[a]);throw new Error("Cannot find module '"+t+"' from '"+r+"'")};l.alias=function(t,e){r[e]=t};var f=/\.[^.\/]+$/,p=/\/index(\.[^\/]+)?$/;l.register=l.define=function(t,a){if(t&&"object"==typeof t)for(var o in t)i.call(t,o)&&l.register(o,t[o]);else e[t]=a,delete n[t],function(t){if(f.test(t)){var e=t.replace(f,"");i.call(r,e)&&r[e].replace(f,"")!==e+"/index"||(r[e]=t)}if(p.test(t)){var n=t.replace(p,"");i.call(r,n)||(r[n]=t)}}(t)},l.list=function(){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t};var d=t._hmr&&new t._hmr(function(t,e){return u(o(s(t),e))},l,e,n);l._cache=n,l.hmr=d&&d.wrap,l.brunch=!0,t.require=l}}(),function(){"undefined"==typeof window||window;var t=function(t,e,n){var r={},i=function(e,n){try{return t(n+"/node_modules/"+e)}catch(t){if(-1===t.toString().indexOf("Cannot find module"))throw t;if(-1!==n.indexOf("node_modules")){var a=n.split("/"),o=a.lastIndexOf("node_modules"),s=a.slice(0,o).join("/");return i(e,s)}}return r};return function(a){if(a in e&&(a=e[a]),a){if("."!==a[0]&&n){var o=i(a,n);if(o!==r)return o}return t(a)}}};require.register("curvature/base/Bag.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bag=void 0;var t=n("./Bindable");function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.meta=Symbol("meta"),this.content=new Map,this.list=t.Bindable.makeBindable({}),this.current=0,this.type=void 0,this.changeCallback=n}var n,i,a;return n=e,(i=[{key:"add",value:function(t){if(void 0===t||!(t instanceof Object))throw new Error("Only objects may be added to Bags.");if(this.type&&!(t instanceof this.type))throw console.error(this.type,t),new Error("Only objects of type ".concat(this.type," may be added to this Bag."));if(!this.content.has(t)){var n,r=(n=this.current++,Number(n).toString(36));this.content.set(t,r),this.list[r]=t,this.changeCallback&&this.changeCallback(t,this.meta,e.ITEM_ADDED,r)}}},{key:"remove",value:function(t){if(void 0===t||!(t instanceof Object))throw new Error("Only objects may be removed from Bags.");if(this.type&&!(t instanceof this.type))throw console.error(this.type,t),new Error("Only objects of type ".concat(this.type," may be removed from this Bag."));if(!this.content.has(t))return this.changeCallback&&this.changeCallback(t,this.meta,0,void 0),!1;var n=this.content.get(t);return delete this.list[n],this.content.delete(t),this.changeCallback&&this.changeCallback(t,this.meta,e.ITEM_REMOVED,n),t}},{key:"items",value:function(){return Array.from(this.content.entries()).map(function(t){return t[0]})}}])&&r(n.prototype,i),a&&r(n,a),e}();e.Bag=i,Object.defineProperty(i,"ITEM_ADDED",{configurable:!1,enumerable:!1,writable:!0,value:1}),Object.defineProperty(i,"ITEM_REMOVED",{configurable:!1,enumerable:!1,writable:!0,value:-1})}()}),require.register("curvature/base/Bindable.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";function t(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r(t,e,n){return(r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var a=new(Function.bind.apply(t,r));return n&&i(a,n.prototype),a}).apply(null,arguments)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Bindable=void 0;var s=Symbol("ref"),c=Symbol("deck"),u=Symbol("binding"),l=Symbol("bindingAll"),f=Symbol("isBindable"),p=Symbol("executing"),d=Symbol("stack"),v=(Symbol("object"),Symbol("wrapped")),h=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,i,h;return n=e,h=[{key:"isBindable",value:function(t){return!(!t||!t[u])&&t[u]===e}},{key:"onDeck",value:function(t,e){return t[c][e]||!1}},{key:"ref",value:function(t){return t[s]||!1}},{key:"makeBindable",value:function(t){return this.make(t)}},{key:"make",value:function(n){var i=this;if(!n||!["function","object"].includes(a(n)))return n;var o=window||{};if([o.Node,o.Map,o.Set,o.ResizeObserver,o.MutationObserver,o.PerformanceObserver,o.IntersectionObserver].filter(function(t){return"function"==typeof t}).filter(function(t){return n instanceof t}).length||Object.isSealed(n)||!Object.isExtensible(n))return n;if(n[s])return n;if(n[u])return n;Object.defineProperty(n,s,{configurable:!0,enumerable:!1,writable:!0,value:n}),Object.defineProperty(n,c,{configurable:!1,enumerable:!1,writable:!1,value:{}}),Object.defineProperty(n,u,{configurable:!1,enumerable:!1,writable:!1,value:{}}),Object.defineProperty(n,l,{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(n,f,{configurable:!1,enumerable:!1,writable:!1,value:e}),Object.defineProperty(n,p,{enumerable:!1,writable:!0}),Object.defineProperty(n,d,{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(n,"___before___",{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(n,"___after___",{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(n,v,{configurable:!1,enumerable:!1,writable:!1,value:{}});Object.defineProperty(n,"bindTo",{configurable:!1,enumerable:!1,writable:!1,value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=!1;if(t instanceof Function&&(r=e||{},e=t,a=!0),r.delay>=0&&(e=i.wrapDelayCallback(e,r.delay)),r.throttle>=0&&(e=i.wrapThrottleCallback(e,r.throttle)),r.wait>=0&&(e=i.wrapWaitCallback(e,r.wait)),r.frame&&(e=i.wrapFrameCallback(e,r.frame)),r.idle&&(e=i.wrapIdleCallback(e)),a){var o=n[l].length;for(var s in n[l].push(e),n)e(n[s],s,n,!1);return function(){delete n[l][o]}}n[u][t]||(n[u][t]=[]);var c=n[u][t].length;n[u][t].push(e),e(n[t],t,n,!1);var f=!1,p=function(){f||(f=!0,n[u][t]&&delete n[u][t][c])};return r.removeWith&&r.removeWith instanceof View&&r.removeWith.onRemove(function(){return p}),p}});Object.defineProperty(n,"bindChain",{configurable:!1,enumerable:!1,writable:!1,value:function(t,e){var r=t.split("."),a=r.shift(),o=r.slice(0),s=[];return s.push(n.bindTo(a,function(t,n,r,a){var c=o.join(".");0!==o.length?(void 0===t&&(t=r[n]=i.makeBindable({})),s=s.concat(t.bindChain(c,e))):e(t,n,r,a)})),function(){return s.map(function(t){return t()})}}}),Object.defineProperty(n,"___before",{configurable:!1,enumerable:!1,writable:!1,value:function(t){var e=n.___before___.length;n.___before___.push(t);var r=!1;return function(){r||(r=!0,delete n.___before___[e])}}}),Object.defineProperty(n,"___after",{configurable:!1,enumerable:!1,writable:!1,value:function(t){var e=n.___after___.length;n.___after___.push(t);var r=!1;return function(){r||(r=!0,delete n.___after___[e])}}});for(var h in Object.defineProperty(n,"isBound",{configurable:!1,enumerable:!1,writable:!1,value:function(){for(var t in n[l])if(n[l][t])return!0;for(var e in n[u])for(var r in n[u][e])if(n[u][e][r])return!0;return!1}}),n)n[h]&&n[h]instanceof Object&&!n[h]instanceof Node&&!n[h]instanceof Promise&&(n[h]=e.make(n[h]));return Object.defineProperty(n,s,{configurable:!1,enumerable:!1,writable:!0,value:n[s]}),n[s]=new Proxy(n,{deleteProperty:function(t,e){if(!(e in t))return!0;for(var r in n[l])n[l][r](void 0,e,t,!0,t[e]);if(e in n[u])for(var i in n[u][e])n[u][e][i]&&n[u][e][i](void 0,e,t,!0,t[e]);return delete t[e],!0},construct:function(n,i){var a="constructor";for(var o in n.___before___)n.___before___[o](n,a,n[d],void 0,i);var s=e.make(r(n,t(i)));for(var c in n.___after___)n.___after___[c](n,a,n[d],s,i);return s},get:function(t,i){if(i===s||"isBound"===i||"bindTo"===i)return t[i];if(t[i]instanceof Function){if(t[v][i])return t[v][i];var a=Object.getOwnPropertyDescriptor(n,i);return!a||a.configurable||a.writable?(t[v][i]=function(){t[p]=i,t[d].unshift(i);for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];for(var c in t.___before___)t.___before___[c](t,i,t[d],n,a);var u=n instanceof Promise||n instanceof EventTarget||n instanceof MutationObserver||n instanceof IntersectionObserver||n instanceof MutationObserver||n instanceof PerformanceObserver||"function"==typeof ResizeObserver&&n instanceof ResizeObserver||n instanceof Map||n instanceof Set?n:n[s],l=new.target?r(t[i],a):t[i].apply(u||n,a);for(var f in t.___after___)t.___after___[f](t,i,t[d],n,a);return t[p]=null,t[d].shift(),l},t[v][i]):(t[v][i]=t[i],t[v][i])}return t[i]instanceof Object&&!t[i][s]&&e.make(t[i]),t[i]},set:function(t,r,a){if(void 0!==n[c][r]&&n[c][r]===a)return!0;if("string"==typeof r&&"___"===r.substring(0,3)&&"___"===r.slice(-3))return!0;if(t[r]===a)return!0;if(a&&a instanceof Object&&!(a instanceof Node)&&a.___isBindable___!==e&&(a=e.makeBindable(a),i.isBindable(a)))for(var o in a)a[o]&&a[o]instanceof Object&&(a[o]=e.makeBindable(a[o]));for(var s in n[c][r]=a,n[l])n[l][s]&&n[l][s](a,r,t,!1);var f=!1;if(r in n[u])for(var p in n[u][r])n[u][r]&&n[u][r][p]&&!1===n[u][r][p](a,r,t,!1,t[r])&&(f=!0);if(delete n[c][r],!f){var d=Object.getOwnPropertyDescriptor(t,r);t instanceof File&&"lastModifiedDate"==r||d&&!d.writable||t[r]!==a||(t[r]=a)}return Reflect.set(t,r,a)}}),n[s]}},{key:"clearBindings",value:function(t){var e;(e=function(t){return Object.keys(t).map(function(e){return delete t[e]})},function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.map(e)})(t[v],t[u],t[l],t.___after___,t.___before___)}},{key:"resolve",value:function(t,e){for(var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.split("."),a=i[0];i.length;){if(r&&1===i.length)return[this.makeBindable(t),i.shift(),a];!(!(n=i.shift())in t)&&t[n]&&t[n]instanceof Object||(t[n]={}),t=this.makeBindable(t[n])}return[this.makeBindable(t),n,a]}},{key:"wrapDelayCallback",value:function(t,e){return function(n,r,i,a){setTimeout(function(){return t(n,r,i,a,i[r])},e)}}},{key:"wrapThrottleCallback",value:function(t,e){return function(t){var e=!1;return function(n,r,i,a){e||(t(n,r,i,a,i[r]),e=!0,setTimeout(function(){e=!1},e))}}(t)}},{key:"wrapWaitCallback",value:function(t,e){var n=!1;return function(r,i,a,o){n&&(clearTimeout(n),n=!1),n=setTimeout(function(){return t(r,i,a,o,a[i])},e)}}},{key:"wrapFrameCallback",value:function(t,e){return function(e,n,r,i,a){requestAnimationFrame(function(){return t(e,n,r,i,a)})}}},{key:"wrapIdleCallback",value:function(t){return function(e,n,r,i,a){(window.requestIdleCallback||requestAnimationFrame)(function(){return t(e,n,r,i,a)})}}}],(i=null)&&o(n.prototype,i),h&&o(n,h),e}();e.Bindable=h}()}),require.register("curvature/base/Cache.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Cache=void 0;var n=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,r,i;return n=e,i=[{key:"store",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"standard",i=0;n&&(i=1e3*n+(new Date).getTime()),this.bucket||(this.bucket={}),this.bucket[r]||(this.bucket[r]={}),this.bucket[r][t]={expiration:i,value:e}}},{key:"load",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"standard";return this.bucket&&this.bucket[n]&&this.bucket[n][t]&&(0==this.bucket[n][t].expiration||this.bucket[n][t].expiration>(new Date).getTime())?this.bucket[n][t].value:e}}],(r=null)&&t(n.prototype,r),i&&t(n,i),e}();e.Cache=n}()}),require.register("curvature/base/Config.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Config=void 0;var r={};try{Object.assign(r,n("Config").Config||{})}catch(t){console.error(t)}var i=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,r,i;return n=e,i=[{key:"get",value:function(t){return this.configs[t]}},{key:"set",value:function(t,e){return this.configs[t]=e,this}},{key:"dump",value:function(){return this.configs}},{key:"init",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r in e){var i=e[r];for(var a in"string"==typeof i&&(i=JSON.parse(i)),i){var o=i[a];return this.configs[a]=o}}return this}}],(r=null)&&t(n.prototype,r),i&&t(n,i),e}();e.Config=i,Object.defineProperty(i,"configs",{configurable:!1,enumerable:!1,writable:!1,value:r})}()}),require.register("curvature/base/Dom.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Dom=void 0;var n=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,r,i;return n=e,i=[{key:"mapTags",value:function(t,e,n,r,i){var a=[],o=!0;r&&(o=!1);var s=!1,c=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,{acceptNode:function(t,n){if(!o){if(t!==r)return NodeFilter.FILTER_SKIP;o=!0}return i&&t===i&&(s=!0),s?NodeFilter.FILTER_SKIP:e?t instanceof Element&&t.matches(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}},!1);for(0;c.nextNode();)a.push(n(c.currentNode,c));return a}},{key:"dispatchEvent",value:function(t,n){t.dispatchEvent(n),e.mapTags(t,!1,function(t){t.dispatchEvent(n)})}}],(r=null)&&t(n.prototype,r),i&&t(n,i),e}();e.Dom=n}()}),require.register("curvature/base/Model.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;var t=n("./Cache"),r=n("./Bindable");n("./Repository");function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.repository=t}var n,a,o;return n=e,(a=[{key:"consume",value:function(n){for(var i in n){var a=n[i];if(n[i]instanceof Object&&n[i].class&&n[i].publicId){var o="".concat(n[i].class,"::").concat(n[i].publidId),s=t.Cache.load(o,!1,"model-type-repo");a=r.Bindable.makeBindable(new e(this.repository)),s&&(a=s),a.consume(n[i]),t.Cache.store(o,a,0,"model-type-repo")}this[i]=a}}}])&&i(n.prototype,a),o&&i(n,o),e}();e.Model=a}()}),require.register("curvature/base/Repository.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Repository=void 0;var t=n("./Bindable"),r=n("./Router"),i=n("./Cache"),a=n("./Model"),o=n("./Bag"),s=n("../form/Form"),c=n("../form/multiField/FormWrapper");function u(t){"@babel/helpers - typeof";return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.uri=t}var n,f,p;return n=e,p=[{key:"loadPage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.request(this.uri,t).then(function(t){return t})}},{key:"domCache",value:function(t,e){}},{key:"load",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.objects=this.objects||{},this.objects[this.uri]=this.objects[this.uri]||{},this.objects[this.uri][t]?Promise.resolve(this.objects[this.uri][t]):this.request(this.uri+"/"+t).then(function(t){})}},{key:"form",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.uri+"/create";return t&&(e=this.uri+"/"+t+"/edit"),this.request(e).then(function(t){return t})}},{key:"clearCache",value:function(){this.objects&&this.objects[this.uri]&&(this.objects[this.uri]={})}},{key:"encode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(var r in n||(n=new FormData),t){var i=r;e&&(i="".concat(e,"[").concat(i,"]")),t[r]&&"object"!==u(t[r])?n.append(i,t[r]):this.encode(t[r],i,n)}return n}},{key:"onResponse",value:function(t){return this._onResponse||(this._onResponse=new o.Bag),this._onResponse.add(t)}},{key:"request",value:function(t){var e,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c="GET",u=null,l={};r&&(l=r),this._onResponse||(this._onResponse=new o.Bag),this.runningRequests||(this.runningRequests={}),l.api=l.api||"json",e=Object.keys(l).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(l[t])}).join("&");var f;if(f=t+"?"+e,!i&&this.runningRequests[f])return this.runningRequests[f];i&&(a=!1,c="POST",u=i instanceof FormData?i:this.encode(i));var p=new XMLHttpRequest;if("responseType"in s&&(p.responseType=s.responseType),!i&&a&&this.cache&&this.cache[f])return Promise.resolve(this.cache[f]);var d='script[data-uri="'+f+'"]',v=document.querySelector(d);if(!i&&a&&v){var h=JSON.parse(v.innerText);return Promise.resolve(h)}p.withCredentials=!("withCredentials"in s)||s.withCredentials,document.createElement("a").href=f,i||(p.timeout=s.timeout||15e3,this.xhrs[f]=p);var g=new Promise(function(t,e){if(i&&"progressUp"in s&&(p.upload.onprogress=s.progressUp),"progressDown"in s&&(p.onprogress=s.progressDown),p.onreadystatechange=function(){var r;if(4===p.readyState)if(delete n.xhrs[f],delete n.runningRequests[f],n.cache||(n.cache={}),"application/json"==p.getResponseHeader("Content-Type")||"application/json; charset=utf-8"==p.getResponseHeader("Content-Type")||"text/json"==p.getResponseHeader("Content-Type")||"text/json; charset=utf-8"==p.getResponseHeader("Content-Type"))if((r=JSON.parse(p.responseText))&&0==r.code){var i=document.querySelector('script[data-uri="'+f+'"]');(window.prerenderer||navigator.userAgent.match(/prerender/i))&&(window.prerenderer=window.prerenderer||!0,i||((i=document.createElement("script")).type="text/json",i.setAttribute("data-hack","application/ld+json-NOT!"),i.setAttribute("data-uri",f),document.head.appendChild(i)),i.innerText=JSON.stringify(r));var a=n._onResponse.items();for(var o in a)a[o](r,!0);r._http=p.status,200===p.status?t(r):e(r)}else{var s=n._onResponse.items();for(var c in s)s[c](r,!0);e(r)}else{var u=n._onResponse.items();for(var l in u)u[l](p,!0);200===p.status?t(p):e(p)}},p.open(c,f,!0),s.headers)for(var r in s.headers)p.setRequestHeader(r,s.headers[r]);p.send(u)});return i||(this.runningRequests[f]=g),g}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:/^.$/;for(var e in this.xhrs)this.xhrs[e]&&e.match(t)&&(this.xhrs[e].abort(),delete this.xhrs[e])}}],(f=[{key:"get",value:function(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=this.uri+"/"+t,c=i.Cache.load(s+r.Router.queryToString(r.Router.queryOver(o),!0),!1,"model-uri-repo");return!a&&c?Promise.resolve(c):e.request(s,o).then(function(t){return n.extractModel(t.body)})}},{key:"page",value:function(){var t=this,n=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1?arguments[1]:void 0);return e.request(this.uri,n).then(function(e){var n=[];for(var r in e.body){var i=e.body[r];n.push(t.extractModel(i))}return e.body=n,e})}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.uri+"/create";return t&&(i=this.uri+"/"+t+"/edit"),n?e.request(i,{api:"json"},n).then(function(t){return t.body}):e.request(i).then(function(t){var e=new s.Form(t.meta.form,r);return new c.FormWrapper(e,i,"POST",r)})}},{key:"extractModel",value:function(e){var n=t.Bindable.makeBindable(new a.Model(this));n.consume(e);this.uri,n.publicId;if(n.class){var r="".concat(n.class,"::").concat(n.publidId);i.Cache.load(r,!1,"model-type-repo")}return n}}])&&l(n.prototype,f),p&&l(n,p),e}();e.Repository=f,f.xhrs=[]}()}),require.register("curvature/base/Router.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Router=void 0;var t=n("./View"),r=(n("./Cache"),n("./Config")),i=n("./Routes");function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){c=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,o,c;return n=e,c=[{key:"wait",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DOMContentLoaded";(arguments.length>2&&void 0!==arguments[2]?arguments[2]:document).addEventListener(n,function(){e.listen(t)})}},{key:"listen",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.routes=n;var r=location.pathname+location.search;location.hash&&(r+=location.hash),Object.assign(this.query,this.queryOver({}));var i=function(n){for(var r in n.preventDefault(),n.state&&"routedId"in n.state?n.state.routedId<=e.routeCount?(e.history.splice(n.state.routedId),e.routeCount=n.state.routedId):n.state.routedId>e.routeCount&&(e.history.push(n.state.prev),e.routeCount=n.state.routedId):null!==e.prevPath&&e.prevPath!==location.pathname&&e.history.push(e.prevPath),e.match(location.pathname,t),e.query)delete e.query[r];Object.assign(e.query,e.queryOver({}))};window.addEventListener("popstate",i),window.addEventListener("cvUrlChanged",i),this.go(r)}},{key:"go",value:function(t,e){var n=r.Config.get("title");for(var i in n&&(document.title=n),2===e&&location.pathname!==t?history.replaceState({routedId:this.routeCount,prev:this.prevPath,url:location.pathname},null,t):location.pathname!==t&&history.pushState({routedId:++this.routeCount,prev:this.prevPath,url:location.pathname},null,t),e||(!1===e&&(this.path=null),"#"===t.substring(0,1)?window.dispatchEvent(new HashChangeEvent("hashchange")):window.dispatchEvent(new CustomEvent("cvUrlChanged"))),this.query)delete this.query[i];Object.assign(this.query,this.queryOver({})),this.prevPath=t}},{key:"match",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.path!==t||r){this.queryString=location.search,this.path=t;var a=this.prevPath,o=e.args.content,s=this.routes||e.routes||i.Routes.dump();new URLSearchParams(location.search);for(var c in this.query)delete this.query[c];Object.assign(this.query,this.queryOver({}));var u={},l=!1,f="";for(var p in t=t.substr(1).split("/"),this.query)u[p]=this.query[p];t:for(var d in s){var v=d.split("/");if(!(v.length<t.length&&"*"!==v[v.length-1])){for(var h in v)if("%"==v[h].substr(0,1)){var g=null,m=/^%(\w+)\??/.exec(v[h]);if(m&&m[1]&&(g=m[1]),!g)throw new Error("".concat(v[h],' is not a valid argument segment in route "').concat(d,'"'));if(t[h])u[g]=t[h];else{if("?"!=v[h].substr(v[h].length-1,1))continue t;u[g]=""}}else if("*"!==v[h]&&t[h]!==v[h])continue t;l=d,f=s[d],"*"===v[v.length-1]&&(u.pathparts=t.slice(v.length-1));break}}if(!r&&e&&o&&f instanceof Object&&o instanceof f&&!(f instanceof Promise)&&o.update(u))return e.args.content=o,!0;var b=new CustomEvent("cvRouteStart",{cancelable:!0,detail:{path:t,prev:a,root:e,selected:l,routes:s}});if(document.dispatchEvent(b)){if(l in s&&s[l]instanceof Object&&s[l].isView&&s[l].isView())f=new s[l](u),e&&(f.root=function(){return e});else if(s[l]instanceof Function){f="",f=s[l](u)}else s[l]instanceof Object?f=new s[l](u):"string"==typeof s[l]&&(f=s[l]);return f instanceof Promise||(f=Promise.resolve(f)),f.then(function(i){return n.update(e,t,i,s,l,u,r)}).catch(function(i){return n.update(e,t,i,s,l,u,r)})}}}},{key:"update",value:function(e,n,r,i,a,o,s){if(e){var c=this.prevPath,u=new CustomEvent("cvRoute",{cancelable:!0,detail:{result:r,path:n,prev:c,view:e,routes:i,selected:a}});!1!==r&&(e.args.content instanceof t.View&&(e.args.content.pause(!0),e.args.content.remove()),document.dispatchEvent(u)&&(e.args.content=r),r instanceof t.View&&(r.pause(!1),r.update(o,s)));var l=new CustomEvent("cvRouteEnd",{cancelable:!0,detail:{result:r,path:n,prev:c,view:e,routes:i,selected:a}});document.dispatchEvent(l)}}},{key:"queryOver",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={},r={},i=a(new URLSearchParams(location.search));try{for(i.s();!(t=i.n()).done;){var o=t.value;r[o[0]]=o[1]}}catch(t){i.e(t)}finally{i.f()}return delete(n=Object.assign(n,r,e)).api,n}},{key:"queryToString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=t;for(var i in e||(r=this.queryOver(t)),r)""!==r[i]&&n.push(i+"="+encodeURIComponent(r[i]));return n.join("&")}},{key:"setQuery",value:function(t,e,n){var r=this.queryOver();r[t]=e,void 0===e&&delete r[t];var i=this.queryToString(r,!0);this.go(location.pathname+(i?"?"+i:""),n)}}],(o=null)&&s(n.prototype,o),c&&s(n,c),e}();e.Router=c,Object.defineProperty(c,"query",{configurable:!1,enumerable:!1,writable:!1,value:{}}),Object.defineProperty(c,"history",{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(c,"routeCount",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(c,"prevPath",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(c,"queryString",{configurable:!1,enumerable:!1,writable:!0,value:null})}()}),require.register("curvature/base/Routes.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Routes=void 0;var r={};try{Object.assign(r,n("Routes").Routes||{})}catch(t){window.devmode&&console.warn(t)}var i=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,r,i;return n=e,i=[{key:"get",value:function(t){return this.routes[t]}},{key:"dump",value:function(){return this.routes}}],(r=null)&&t(n.prototype,r),i&&t(n,i),e}();e.Routes=i,Object.defineProperty(i,"routes",{configurable:!1,enumerable:!1,writable:!1,value:r})}()}),require.register("curvature/base/RuleSet.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RuleSet=void 0;n("./Dom");var t=n("./Tag"),r=n("./View");function i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){c=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,a,s;return n=e,s=[{key:"add",value:function(t,e){return this.globalRules=this.globalRules||{},this.globalRules[t]=this.globalRules[t]||[],this.globalRules[t].push(e),this}},{key:"apply",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;for(var n in this.globalRules)for(var r in this.globalRules[n]){var a,o=this.globalRules[n][r],s=this.wrap(t,o,e),c=i(t.querySelectorAll(n));try{for(c.s();!(a=c.n()).done;){s(a.value)}}catch(t){c.e(t)}finally{c.f()}}}},{key:"wait",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DOMContentLoaded",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,r=function(e,n){return function(){return n.removeEventListener(e,r),t.apply()}}(e,n);n.addEventListener(e,r)}},{key:"wrap",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(n instanceof r.View||n&&n.prototype&&n.prototype instanceof r.View)&&(n=function(t){return function(){return t}}(n)),function(e){for(var a in void 0===e.___cvApplied___&&Object.defineProperty(e,"___cvApplied___",{enumerable:!1,writable:!1,value:[]}),e.___cvApplied___)if(n==e.___cvApplied___[a])return;var o,s;i&&(o=s=i,i.viewList&&(s=i.viewList.parent));var c,u=new t.Tag(e,s,null,void 0,o),l=u.element.parentNode,f=u.element.nextSibling,p=n(u);if(!1!==p&&e.___cvApplied___.push(n),p instanceof HTMLElement&&(p=new t.Tag(p)),p instanceof t.Tag){if(!p.element.contains(u.element)){for(;u.element.firstChild;)p.element.appendChild(u.element.firstChild);u.remove()}f?l.insertBefore(p.element,f):l.appendChild(p.element)}p&&p.prototype&&p.prototype instanceof r.View&&(p=new p),p instanceof r.View&&(i&&(i.cleanup.push((c=p,function(){c.remove()})),p.parent=i,i.cleanup.push(i.args.bindTo(function(t,e,n){n[e]=t,p.args[e]=t})),i.cleanup.push(p.args.bindTo(function(t,e,n,r){n[e]=t,i.args[e]=t}))),u.clear(),p.render(u.element))}}}],(a=[{key:"add",value:function(t,e){return this.rules=this.rules||{},this.rules[t]=this.rules[t]||[],this.rules[t].push(e),this}},{key:"apply",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;for(var r in e.apply(t,n),this.rules)for(var a in this.rules[r]){var o,s=this.rules[r][a],c=e.wrap(t,s,n),u=i(t.querySelectorAll(r));try{for(u.s();!(o=u.n()).done;){c(o.value)}}catch(t){u.e(t)}finally{u.f()}}}}])&&o(n.prototype,a),s&&o(n,s),e}();e.RuleSet=s}()}),require.register("curvature/base/Tag.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tag=void 0;var t=n("./Bindable");function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function e(n,r,i,a,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.Bindable.makeBindable(n),this.parent=r,this.direct=o,this.ref=i,this.index=a,this.cleanup=[],this.proxy=t.Bindable.makeBindable(this)}var n,i,a;return n=e,(i=[{key:"remove",value:function(){var e;for(t.Bindable.clearBindings(this);e=this.cleanup.shift();)e();if(this.clear(),this.element){var n=new Event("cvDomDetached");this.element.dispatchEvent(n),this.element.remove(),this.element=this.ref=this.parent=null}}},{key:"clear",value:function(){if(this.element)for(var t=new Event("cvDomDetached");this.element.firstChild;)this.element.firstChild.dispatchEvent(t),this.element.removeChild(this.element.firstChild)}},{key:"pause",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}}])&&r(n.prototype,i),a&&r(n,a),e}();e.Tag=i}()}),require.register("curvature/base/View.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;var t=n("./Bindable"),r=n("./ViewList"),i=n("./Router"),a=n("./Dom"),o=(n("./Tag"),n("./Bag")),s=n("./RuleSet");function c(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=f(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(t,e)||f(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||f(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}var h=Symbol("dontParse"),g=Symbol("expandBind"),m=function(){function e(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"___VIEW___",{enumerable:!1,writable:!0}),this.___VIEW___=e,Object.defineProperty(this,"args",{configurable:!1,writable:!1,value:t.Bindable.make(r)});var a=this;return this.args._id||Object.defineProperty(this.args,"_id",{configurable:!1,get:function(){return a._id}}),this.template="",this.document="",this.firstNode=null,this.lastNode=null,this.nodes=null,this.cleanup=[],this._onRemove=new o.Bag(function(t,e,n){}),this.attach=new o.Bag(function(t,e,n){}),this.detach=new o.Bag(function(t,e,n){}),this.eventCleanup=[],this.mainView=null,this.parent=i,this.viewList=null,this.viewLists={},this.withViews={},this.tags=t.Bindable.make({}),this.intervals=[],this.timeouts=[],this.frames=[],this.ruleSet=new s.RuleSet,this.preRuleSet=new s.RuleSet,this.subBindings={},this.subTemplates={},this.removed=!1,this.preserve=!1,this.interpolateRegex=/(\[\[((?:\$+)?[\w\.\|-]+)\]\])/g,this.rendered=new Promise(function(t,e){Object.defineProperty(n,"renderComplete",{configurable:!1,writable:!1,value:t})}),t.Bindable.make(this)}return v(e,[{key:"_id",get:function(){return this.__id||Object.defineProperty(this,"__id",{configurable:!1,writable:!1,value:this.uuid()}),this.__id}}],[{key:"from",value:function(t){var e=new this(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return e.template=t,e}}]),v(e,[{key:"onFrame",value:function(t){var e=this,n=!1,r=function(){n=!0};return requestAnimationFrame(function(){return function r(i){e.removed||n||(e.paused||t(Date.now()),requestAnimationFrame(r))}(Date.now())}),this.frames.push(r),r}},{key:"onNextFrame",value:function(t){return requestAnimationFrame(function(){return t(Date.now())})}},{key:"onIdle",value:function(t){return requestIdleCallback(function(){return t(Date.now())})}},{key:"onTimeout",value:function(t,e){var n=this,r=function(){n.timeouts[a].fired=!0,n.timeouts[a].callback=null,e()},i=setTimeout(r,t),a=this.timeouts.length;return this.timeouts.push({timeout:i,callback:r,time:t,fired:!1,created:(new Date).getTime(),paused:!1}),i}},{key:"clearTimeout",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){for(var e in this.timeouts)t===this.timeouts[e].timeout&&(clearTimeout(this.timeouts[e].timeout),delete this.timeouts[e])})},{key:"onInterval",value:function(t,e){var n=setInterval(e,t);return this.intervals.push({timeout:n,callback:e,time:t,paused:!1}),n}},{key:"clearInterval",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){for(var e in this.intervals)t===this.intervals[e].timeout&&(clearInterval(this.intervals[e].timeout),delete this.intervals[e])})},{key:"pause",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(void 0===t&&(this.paused=!this.paused),this.paused=t,this.paused){for(var e in this.timeouts)this.timeouts[e].fired?delete this.timeouts[e]:clearTimeout(this.timeouts[e].timeout);for(var n in this.intervals)clearInterval(this.intervals[n].timeout)}else{for(var r in this.timeouts)this.timeouts[r].timeout.paused&&(this.timeouts[r].fired?delete this.timeouts[r]:this.timeouts[r].timeout=setTimeout(this.timeouts[r].callback,this.timeouts[r].time));for(var i in this.intervals)this.intervals[i].timeout.paused&&(this.intervals[i].timeout.paused=!1,this.intervals[i].timeout=setInterval(this.intervals[i].callback,this.intervals[i].time))}for(var a in this.viewLists){if(!this.viewLists[a])return;this.viewLists[a].pause(!!t)}for(var o in this.tags)if(Array.isArray(this.tags[o]))for(var s in this.tags[o])this.tags[o][s].pause(!!t);else this.tags[o].pause(!!t)}},{key:"render",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n instanceof e&&(n=n.firstNode.parentNode),r instanceof e&&(r=r.firstNode),this.firstNode)return this.reRender(n,r);var i=this.template instanceof DocumentFragment?this.template.cloneNode(!0):e.templates.has(this.template),a=i?this.template instanceof DocumentFragment?i:e.templates.get(this.template).cloneNode(!0):document.createRange().createContextualFragment(this.template);if(i||this.template instanceof DocumentFragment||e.templates.set(this.template,a.cloneNode(!0)),this.mainView||this.preRuleSet.apply(a,this),this.mapTags(a),this.mainView||this.ruleSet.apply(a,this),this.nodes=[],!0===window.devmode?(this.firstNode=document.createComment("Template ".concat(this._id," Start")),this.lastNode=document.createComment("Template ".concat(this._id," End"))):(this.firstNode=document.createTextNode(""),this.lastNode=document.createTextNode("")),(t=this.nodes).push.apply(t,[this.firstNode].concat(l(Array.from(a.childNodes)),[this.lastNode])),n){var o=n.getRootNode(),s=!1;if(o.isConnected&&(s=!0,"external"),r?(n.insertBefore(this.firstNode,r),n.insertBefore(this.lastNode,r)):(n.appendChild(this.firstNode),n.appendChild(this.lastNode)),n.insertBefore(a,this.lastNode),0,s){this.attached(o,n);var c=this.attach.items();for(var u in c)c[u](o,n);this.nodes.filter(function(t){return t.nodeType!==Node.COMMENT_NODE}).map(function(t){t.dispatchEvent(new Event("cvDomAttached",{bubbles:!0,target:t}))})}}return this.renderComplete(this.nodes),this.postRender(n),this.nodes}},{key:"reRender",value:function(t,e){var n=new DocumentFragment;if(this.firstNode.isConnected){var r=this.detach.items();for(var i in r)r[i]();this.nodes.filter(function(t){return t.nodeType===Node.ELEMENT_NODE}).map(function(t){t.dispatchEvent(new Event("cvDomDetached",{bubbles:!0,target:t}))})}if(n.append.apply(n,l(this.nodes)),t){e?(t.insertBefore(this.firstNode,e),t.insertBefore(this.lastNode,e)):(t.appendChild(this.firstNode),t.appendChild(this.lastNode)),t.insertBefore(n,this.lastNode);var a=t.getRootNode();if(a.isConnected){this.nodes.filter(function(t){return t.nodeType===Node.ELEMENT_NODE}).map(function(t){t.dispatchEvent(new Event("cvDomAttached",{bubbles:!0,target:t}))});var o=this.attach.items();for(var s in o)o[s](a,t)}}return this.nodes}},{key:"mapTags",value:function(t){var e=this;a.Dom.mapTags(t,!1,function(t,n){t[h]||(t=t.matches?(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=e.mapInterpolatableTag(t)).matches("[cv-template]")&&e.mapTemplateTag(t)||t).matches("[cv-slot]")&&e.mapSlotTag(t)||t).matches("[cv-prerender]")&&e.mapPrendererTag(t)||t).matches("[cv-link]")&&e.mapLinkTag(t)||t).matches("[cv-attr]")&&e.mapAttrTag(t)||t).matches("[cv-expand]")&&e.mapExpandableTag(t)||t).matches("[cv-ref]")&&e.mapRefTag(t)||t).matches("[cv-on]")&&e.mapOnTag(t)||t).matches("[cv-each]")&&e.mapEachTag(t)||t).matches("[cv-bind]")&&e.mapBindTag(t)||t).matches("[cv-if]")&&e.mapIfTag(t)||t).matches("[cv-with]")&&e.mapWithTag(t)||t:e.mapInterpolatableTag(t))!==n.currentNode&&(n.currentNode=t)})}},{key:"mapExpandableTag",value:function(e){var n=e[g];n&&(n(),e[g]=!1);var r=u(t.Bindable.resolve(this.args,e.getAttribute("cv-expand"),!0),2),i=r[0],a=r[1];return e.removeAttribute("cv-expand"),i[a]||(i[a]={}),this.onRemove(e[g]=i[a].bindTo(function(t,n,r,i,a){i||void 0===t?e.removeAttribute(n,t):null!==t?e.setAttribute(n,t):e.setAttribute(n,"")})),e}},{key:"compileExpandableTag",value:function(e){return function(n){var r=e.cloneNode(!0),i=r.getAttribute("cv-expand"),a=t.Bindable.make(n.args[i]||{});r.removeAttribute("cv-expand");var o=function(e){if("name"===e||"type"===e)return"continue";var i=a.bindTo(e,function(t,e){return function(n){t.setAttribute(e,n)}}(r,e));n.onRemove(function(){i(),a.isBound()&&t.Bindable.clearBindings(a)})};for(var s in a)o(s);return r}}},{key:"mapAttrTag",value:function(t){var e=this.compileAttrTag(t)(this);return t.replaceWith(e),e}},{key:"compileAttrTag",value:function(e){var n=e.getAttribute("cv-attr").split(",").map(function(t){return t.split(":")});return e.removeAttribute("cv-attr"),function(r){var i=e.cloneNode(!0),a=function(e){var a=n[e][1]||n[e][0],o=u(t.Bindable.resolve(r.args,a,!0),2),s=o[0],c=o[1],l=n[e][0];r.onRemove(s.bindTo(c,function(t,e,n,r){r||void 0===t?i.removeAttribute(l,t):null!==t?i.setAttribute(l,t):i.setAttribute(l,"")}))};for(var o in n)a(o);return i}}},{key:"mapInterpolatableTag",value:function(n){var r=this,i=this.interpolateRegex;if(n.nodeType===Node.TEXT_NODE){var a=n.nodeValue;if(!this.interpolatable(a))return n;for(var o,s=0,c=function(){var i=o[2],c=!1,l=!1,f=i.split("|"),p=!1;if(f.length>1&&(p=r.stringTransformer(f.slice(1)),i=f[0]),"$$"===i.substr(0,2)&&(c=!0,l=!0,i=i.substr(2)),"$"===i.substr(0,1)&&(c=!0,i=i.substr(1)),"000"===i.substr(0,3))return expand=!0,i=i.substr(3),"continue";var d=a.substring(s,o.index);s=o.index+o[1].length;var v=document.createTextNode(d);v[h]=!0,n.parentNode.insertBefore(v,n);var g=void 0;(g=c?document.createElement("div"):document.createTextNode(""))[h]=!0;var m=r.args,b=i;if(i.match(/\./)){var y=u(t.Bindable.resolve(r.args,i,!0),2);m=y[0],b=y[1]}n.parentNode.insertBefore(g,n);var w=m.bindTo(b,function(t,i,a){if(a[i]instanceof e&&a[i]!==t&&(a[i].preserve||a[i].remove()),g.nodeValue="",l&&!(t instanceof e)){var o=t;(t=new e(r.args,r)).template=o}if(t instanceof e){var s=function(e){t.attached(e)};r.attach.add(s),t.render(n.parentNode,g);var u=function(){t.preserve||t.remove()};r.onRemove(u),t.onRemove(function(){r.attach.remove(s),r._onRemove.remove(u)})}else p&&(t=p(t)),t instanceof Object&&t.__toString instanceof Function&&(t=t.__toString()),c?g.innerHTML=t:g.nodeValue=t,g[h]=!0});r.onRemove(function(){w(),m.isBound()||t.Bindable.clearBindings(m)})};o=i.exec(a);)c();var l=a.substring(s),f=document.createTextNode(l);f[h]=!0,n.parentNode.insertBefore(f,n),n.nodeValue=""}if(n.nodeType===Node.ELEMENT_NODE)for(var p=function(e){if(!r.interpolatable(n.attributes[e].value))return"continue";for(var a=0,o=void 0,s=n.attributes[e].value,c=n.attributes[e],l={},f=[];o=i.exec(s);)f.push(s.substring(a,o.index)),l[o[2]]||(l[o[2]]=[]),l[o[2]].push(f.length),f.push(o[1]),a=o.index+o[1].length;f.push(s.substring(a));var p=function(e){var i=r.args,a=e,o=e.split("|"),s=!1,p=e;if(o.length>1&&(s=r.stringTransformer(o.slice(1)),a=o[0]),a.match(/\./)){var d=u(t.Bindable.resolve(r.args,a,!0),2);i=d[0],a=d[1]}l[p];r.onRemove(i.bindTo(a,function(t,e,r,i){for(var o in s&&(t=s(t)),l)for(var u in l[p])f[l[p][u]]=r[o],e===a&&(f[l[p][u]]=t);n.setAttribute(c.name,f.join(""))})),r.onRemove(function(){i.isBound()||t.Bindable.clearBindings(i)})};for(var d in l)p(d)},d=0;d<n.attributes.length;d++)p(d);return n}},{key:"mapRefTag",value:function(t){var e=u(t.getAttribute("cv-ref").split(":"),3),n=e[0],r=e[1],i=void 0===r?null:r,a=e[2],o=void 0===a?null:a;i||(i="curvature/base/Tag");var s=this.stringToClass(i);t.removeAttribute("cv-ref"),Object.defineProperty(t,"___tag___",{enumerable:!1,writable:!0}),this.onRemove(function(){t.___tag___=null,t.remove()});var c=this;this.viewList&&(c=this.viewList.parent);var l=new s(t,this,n,void 0,this);for(t.___tag___=l,this.tags[n]=t;c;){c.parent;var f=this.args[o];void 0!==f?(c.tags[n]||(c.tags[n]=[]),c.tags[n][f]=l):c.tags[n]=l,c=c.parent}return t}},{key:"mapBindTag",value:function(n){var r=this,i=n.getAttribute("cv-bind"),a=this.args,o=i,s=null;if(i.match(/\./)){var l=u(t.Bindable.resolve(this.args,i,!0),3);a=l[0],o=l[1],s=l[2]}a!==this.args&&(this.subBindings[i]=this.subBindings[i]||[],this.onRemove(this.args.bindTo(s,function(){for(;r.subBindings.length;)r.subBindings.shift()()})));var f=!1;"$"===o.substr(0,1)&&(o=o.substr(1),f=!0);var p=a.bindTo(o,function(t,i,a,o,s){s instanceof e&&s!==t&&s.remove();var u=new CustomEvent("cvAutoChanged",{bubbles:!0});if(["INPUT","SELECT","TEXTAREA"].includes(n.tagName)){var l=n.getAttribute("type");if(l&&"checkbox"===l.toLowerCase())n.checked=!!t,n.dispatchEvent(u);else if(l&&"radio"===l.toLowerCase())n.checked=t==n.value,n.dispatchEvent(u);else if("file"!==l){if("SELECT"===n.tagName)for(var p in n.options){n.options[p].value==t&&(n.selectedIndex=p)}n.value=null==t?"":t,n.dispatchEvent(u)}}else if(t instanceof e){var d,v=c(n.childNodes);try{for(v.s();!(d=v.n()).done;){d.value.remove()}}catch(t){v.e(t)}finally{v.f()}var h=function(e){t.attached(e)};r.attach.add(h),t.render(n),t.onRemove(function(){return r.attach.remove(h)})}else if(f){if(n.innerHTML!==t)if(n.innerHTML===t.substring(0,n.innerHTML.length))n.innerHTML+=t.substring(n.innerHTML.length);else{var g,m=c(n.childNodes);try{for(m.s();!(g=m.n()).done;){g.value.remove()}}catch(t){m.e(t)}finally{m.f()}n.innerHTML=t}}else if(n.textContent!==t){var b,y=c(n.childNodes);try{for(y.s();!(b=y.n()).done;){b.value.remove()}}catch(t){y.e(t)}finally{y.f()}n.textContent=t}});a!==this.args&&this.subBindings[i].push(p),this.onRemove(p);var d=n.getAttribute("type"),v=n.getAttribute("multiple"),h=function(e){if(e.target===n)if(d&&"checkbox"===d.toLowerCase())n.checked?a[o]=e.target.getAttribute("value"):a[o]=!1;else if(e.target.matches("[contenteditable=true]"))a[o]=e.target.innerHTML;else if("file"===d&&v){var r=Array.from(e.target.files),i=a[o]||t.Bindable.onDeck(a,o);if(i&&r.length){var s=function(t){if(r[t]!==i[t])return r[t].toJSON=function(){return{name:file[t].name,size:file[t].size,type:file[t].type,date:file[t].lastModified}},i[t]=r[t],"break"};for(var c in r){if("break"===s(c))break}}else a[o]=r}else if("file"!==d||v)a[o]=e.target.value;else{var u=e.target.files.item(0);u.toJSON=function(){return{name:u.name,size:u.size,type:u.type,date:u.lastModified}},a[o]=u}};return"file"===d||"radio"===d?n.addEventListener("change",h):(n.addEventListener("input",h),n.addEventListener("change",h),n.addEventListener("value-changed",h)),this.onRemove(function(t,e){return function(){"file"===d||"radio"===d?t.removeEventListener("change",h):(t.removeEventListener("input",h),t.removeEventListener("change",h),t.removeEventListener("value-changed",h)),t=void 0,void 0}}(n)),n.removeAttribute("cv-bind"),n}},{key:"mapOnTag",value:function(t){var e=this;return String(t.getAttribute("cv-on")).split(";").map(function(t){return t.split(":")}).map(function(n){var r,i=(n=n.map(function(t){return t.trim()})).length,a=String(n.shift()).trim(),o=String(n.shift()||a).trim(),s=String(n.shift()||"").trim(),c=[],u=/(\w+)(?:\(([$\w\s-'",]+)\))?/.exec(o);u?(o=u[1].replace(/(^[\s\n]+|[\s\n]+$)/,""),u[2]&&(c=u[2].split(",").map(function(t){return t.trim()})),u.length):c.push("$event"),a&&1!==i||(a=o);for(var f=e;f;){if("function"==typeof f[o])if("break"===function(){var t=f,e=o;return r=function(){t[e].apply(t,arguments)},"break"}())break;if(!f.parent)break;f=f.parent}var p=function(n){var i=c.map(function(r){var i;return parseInt(r)==r?r:"event"===r||"$event"===r?n:"$view"===r?f:"$tag"===r?t:"$parent"===r?e.parent:"$subview"===r?e:r in e.args?e.args[r]:(i=/^['"]([\w-]+?)["']$/.exec(r))?i[1]:void 0});if("function"!=typeof r)throw new Error("".concat(o," is not defined on View object.")+"\nTag:\n"+"".concat(t.outerHTML));r.apply(void 0,l(i))},d={};switch(s.includes("p")?d.passive=!0:s.includes("P")&&(d.passive=!1),s.includes("c")?d.capture=!0:s.includes("C")&&(d.capture=!1),s.includes("o")?d.once=!0:s.includes("O")&&(d.once=!1),a){case"_init":p();break;case"_attach":e.attach.add(p);break;case"_detach":e.detach.add(p);break;default:t.addEventListener(a,p,d),e.onRemove(function(){t.removeEventListener(a,p,d)})}return[a,o,c]}),t.removeAttribute("cv-on"),t}},{key:"mapLinkTag",value:function(t){var e=t.getAttribute("cv-link");t.setAttribute("href",e);var n=function(n){n.preventDefault(),"http"!==e.substring(0,4)&&"//"!==e.substring(0,2)?i.Router.go(t.getAttribute("href")):window.open(t.getAttribute("href",e))};return t.addEventListener("click",n),this.onRemove(function(t,e){return function(){t.removeEventListener("click",e),t=void 0,e=void 0}}(t,n)),t.removeAttribute("cv-link"),t}},{key:"compileLinkTag",value:function(t){var n=t.getAttribute("cv-link");return t.removeAttribute("cv-link"),function(r){var i=t.cloneNode(!0);return i.setAttribute("href",n),i.addEventListener("click",e.linkClicked),r.onRemove(function(){return i.removeEventListener(e.linkClicked)}),i}}},{key:"mapPrendererTag",value:function(t){var e=t.getAttribute("cv-prerender"),n=window.prerenderer||navigator.userAgent.match(/prerender/i);return n&&(window.prerenderer=window.prerenderer||!0),("never"===e&&n||"only"===e&&!n)&&t.parentNode.removeChild(t),t}},{key:"mapWithTag",value:function(n){var r=this,i=n.getAttribute("cv-with"),a=n.getAttribute("cv-carry"),o=n.getAttribute("cv-view");n.removeAttribute("cv-with"),n.removeAttribute("cv-carry"),n.removeAttribute("cv-view");var s=o?this.stringToClass(o):e,c=new DocumentFragment;Array.from(n.childNodes).map(function(t){return c.appendChild(t)});var u=[];a&&(u=a.split(",").map(function(t){return t.trim()}));var l=this.args.bindTo(i,function(e,i,a,o){for(r.withViews[i]&&r.withViews[i].remove();n.firstChild;)n.removeChild(n.firstChild);var l=new s({},r);r.onRemove(function(t){return function(){t.remove()}}(l)),l.template=c;var f=function(t){var e=r.args.bindTo(u[t],function(t,e){l.args[e]=t});l.onRemove(e),r.onRemove(function(){e(),l.remove()})};for(var p in u)f(p);var d=function(n){var i=e.bindTo(n,function(t,e){l.args[e]=t});l.args.bindTo(n,function(t,n){e[n]=t});r.onRemove(function(){i(),e.isBound()||t.Bindable.clearBindings(e),l.remove()}),l.onRemove(function(){i(),e.isBound()||t.Bindable.clearBindings(e)})};for(var v in e)d(v);l.render(n),r.withViews[i]=l});return this.onRemove(l),n}},{key:"mapEachTag",value:function(t){var n=this,i=t.getAttribute("cv-each"),a=t.getAttribute("cv-view");t.removeAttribute("cv-each"),t.removeAttribute("cv-view");var o=a?this.stringToClass(a):e,s=new DocumentFragment;Array.from(t.childNodes).map(function(t){return s.appendChild(t)});var c=u(i.split(":"),3),l=c[0],f=c[1],p=c[2],d=this.args.bindTo(l,function(e,i,a,c,u){n.viewLists[l]&&n.viewLists[l].remove();var d=new r.ViewList(s,f,e,n,p,o),v=function(){return d.remove()};n.onRemove(v),d.onRemove(function(){return n._onRemove.remove(v)});var h=n.args.bindTo(function(t,e,n,r){"_id"!==e&&(d.subArgs[e]=t)}),g=d.args.bindTo(function(t,e,r,i,a){"_id"!==e&&"value"!==e&&"___"!==e.substring(0,3)&&e in n.args&&(n.args[e]=t)});for(d.onRemove(h),d.onRemove(g),n.onRemove(h),n.onRemove(g);t.firstChild;)t.removeChild(t.firstChild);n.viewLists[l]=d,d.render(t)});return this.onRemove(d),t}},{key:"mapIfTag",value:function(n){var r=n,i=r.getAttribute("cv-if"),a=!1;r.removeAttribute("cv-if"),"!"===i.substr(0,1)&&(i=i.substr(1),a=!0);var o=new DocumentFragment;Array.from(r.childNodes).map(function(t){return o.appendChild(t)});var s=this,c=new DocumentFragment,l=new e(this.args,s);l.template=o;var f=s.args,p=i;if(i.match(/\./)){var d=u(t.Bindable.resolve(s.args,i,!0),2);f=d[0],p=d[1]}var v=!1,h=f.bindTo(p,function(t,e){if(!v){var r=!!f[p]^!!a?n:c;return l.render(r),void(v=!0)}Array.isArray(t)&&(t=!!t.length),a&&(t=!t),t?n.appendChild(c):l.nodes.map(function(t){return c.appendChild(t)})});s.onRemove(h);var g=function(){f.isBound()||t.Bindable.clearBindings(f)};return s.onRemove(function(){h(),g(),s._onRemove.remove(h),s._onRemove.remove(g)}),n}},{key:"compileIfTag",value:function(n){var r=n.getAttribute("cv-if"),i=!1;n.removeAttribute("cv-if"),"!"===r.substr(0,1)&&(r=r.substr(1),i=!0);var a=new DocumentFragment;return Array.from(n.childNodes).map(function(t){return a.appendChild(t.cloneNode(!0))}),function(o){var s=n.cloneNode(),c=new DocumentFragment,l=new e({},o);l.template=a,o.syncBind(l);var f=o.args,p=r;if(r.match(/\./)){var d=u(t.Bindable.resolve(o.args,r,!0),2);f=d[0],p=d[1]}var v=!1,h=f.bindTo(p,function(t,e){if(!v){var n=o.args[p]||i?s:c;return l.render(n),void(v=!0)}Array.isArray(t)&&(t=!!t.length),i&&(t=!t),t?s.appendChild(c):l.nodes.map(function(t){return c.appendChild(t)})});o.onRemove(h);var g=function(){f.isBound()||t.Bindable.clearBindings(f)};return l.onRemove(function(){h(),g(),o._onRemove.remove(h),o._onRemove.remove(g)}),s}}},{key:"mapTemplateTag",value:function(t){var e=t.getAttribute("cv-template");return t.removeAttribute("cv-template"),this.subTemplates[e]=function(){return"TEMPLATE"===t.tagName?t.content.cloneNode(!0):new DocumentFragment(t.innerHTML)},t}},{key:"mapSlotTag",value:function(t){var e=t.getAttribute("cv-slot"),n=this.subTemplates[e];if(!n){for(var r=this;r&&!(n=r.subTemplates[e]);)r=this.parent;if(!n)return void console.error("Template ".concat(e," not found."))}var i=n();for(t.removeAttribute("cv-slot");t.firstChild;)t.firstChild.remove();return t.appendChild(i),t}},{key:"syncBind",value:function(t){var n=this,r=this.args.bindTo(function(e,n,r,i){"_id"!==n&&t.args[n]!==e&&(t.args[n]=e)}),i=t.args.bindTo(function(t,r,i,a,o){if("_id"!==r){var s=t,c=o;s instanceof e&&(s=s.___ref___),c instanceof e&&(c=c.___ref___),s!==c&&c instanceof e&&o.remove(),r in n.args&&(n.args[r]=t)}});this.onRemove(r),this.onRemove(i),t.onRemove(function(){n._onRemove.remove(r),n._onRemove.remove(i)})}},{key:"postRender",value:function(t){}},{key:"attached",value:function(t){}},{key:"interpolatable",value:function(t){return!!String(t).match(this.interpolateRegex)}},{key:"uuid",value:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})}},{key:"remove",value:function(){var t=this,e=function(){for(var e in t.firstNode=t.lastNode=void 0,t.nodes)t.nodes[e].dispatchEvent(new Event("cvDomDetached")),t.nodes[e].remove()};arguments.length>0&&void 0!==arguments[0]&&arguments[0]?e():requestAnimationFrame(e);var n,r,i=c(this._onRemove.items());try{for(i.s();!(n=i.n()).done;){var a=n.value;this._onRemove.remove(a),a()}}catch(t){i.e(t)}finally{i.f()}for(;r=this.cleanup.shift();)r&&r();for(var o in this.viewLists)this.viewLists[o]&&this.viewLists[o].remove();for(var s in this.viewLists=[],this.timeouts)clearTimeout(this.timeouts[s].timeout),delete this.timeouts[s];for(var u in this.intervals)clearInterval(this.intervals[u].timeout),delete this.intervals[u];for(var u in this.frames)this.frames[u](),delete this.frames[u];this.removed=!0}},{key:"findTag",value:function(t){for(var e in this.nodes){var n;if(this.nodes[e].querySelector){if(this.nodes[e].matches(t))return this.nodes[e];if(n=this.nodes[e].querySelector(t))return n}}}},{key:"findTags",value:function(t){return this.nodes,map(function(e){return e.querySelectorAll(t)}).flat()}},{key:"onRemove",value:function(t){this._onRemove.add(t)}},{key:"update",value:function(){}},{key:"beforeUpdate",value:function(t){}},{key:"afterUpdate",value:function(t){}},{key:"stringTransformer",value:function(t){var e=this;return function(n){for(var r in t){for(var i=e,a=t[r];i&&!i[a];)i=i.parent;if(!i)return;n=i[t[r]](n)}return n}}},{key:"stringToClass",value:function(t){if(e.refClasses.has(t))return e.refClasses.get(t);var r=t.split("/"),i=r[r.length-1],a=n(t);return e.refClasses.set(t,a[i]),a[i]}},{key:"preventParsing",value:function(t){t[h]=!0}},{key:"toString",value:function(){return this.nodes.map(function(t){return t.outerHTML}).join(" ")}},{key:"listen",value:function(t,e,n,r){t.addEventListener(e,n,r);var i=function(){t.removeEventListener(e,n,r)},a=function(){i(),i=function(){}};return this.onRemove(function(){return a()}),a}}],[{key:"isView",value:function(){return e}}]),e}();e.View=m,Object.defineProperty(m,"templates",{enumerable:!1,writable:!1,value:new Map}),Object.defineProperty(m,"refClasses",{enumerable:!1,writable:!1,value:new Map}),Object.defineProperty(m,"linkClicked",function(t){t.preventDefault();var e=t.target.getAttribute("href");"http"!==e.substring(0,4)&&"//"!==e.substring(0,2)?i.Router.go(e):window.open(e)})}()}),require.register("curvature/base/ViewList.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewList=void 0;var t=n("./Bindable"),r=n("./View"),i=n("./Bag");function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){c=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function e(n,a,o,s){var c=this,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.removed=!1,this.args=t.Bindable.makeBindable({}),this.args.value=t.Bindable.makeBindable(o||{}),this.subArgs=t.Bindable.makeBindable({}),this.views=[],this.cleanup=[],this.viewClass=l||r.View,this._onRemove=new i.Bag,this.template=n,this.subProperty=a,this.keyProperty=u,this.tag=null,this.paused=!1,this.parent=s,this.rendered=new Promise(function(t,e){Object.defineProperty(c,"renderComplete",{configurable:!1,writable:!0,value:t})}),this.willReRender=!1,this.args.___before(function(t,e,n,r){"bindTo"!=e&&(c.paused=!0)}),this.args.___after(function(t,e,n,r){"bindTo"!=e&&(c.paused=n.length>1,c.reRender())});var f=this.args.value.bindTo(function(t,e,n,r){if(!c.paused){var i=e;if(isNaN(e)&&(i="_"+e),r)for(var a in c.views[i]&&c.views[i].remove(),delete c.views[i],c.views)c.views[a].args[c.keyProperty]="string"!=typeof a?a:a.substr(1);else c.views[i]||c.willReRender?c.views[i]&&c.views[i].args&&(c.views[i].args[c.keyProperty]=e,c.views[i].args[c.subProperty]=t):c.willReRender=requestAnimationFrame(function(){c.reRender()})}});this._onRemove.add(f)}var n,o,c;return n=e,(o=[{key:"render",value:function(t){var e,n=this,r=[],i=a(this.views);try{var o=function(){var n=e.value;n.render(t),r.push(n.rendered.then(function(){return n}))};for(i.s();!(e=i.n()).done;)o()}catch(t){i.e(t)}finally{i.f()}this.tag=t,Promise.all(r).then(function(t){return n.renderComplete(t)})}},{key:"reRender",value:function(){var t=this;if(!this.paused&&this.tag){var e=[];for(var n in this.views)e[n]=this.views[n];var r=[];for(var i in this.args.value){var a=!1,o=i;for(var s in isNaN(o)&&(o="_"+i),e)if(e[s]&&void 0!==this.args.value[i]&&this.args.value[i]===e[s].args[this.subProperty]){a=!0,r[o]=e[s],r[o].args[this.keyProperty]=i,delete e[s];break}a||function(){var e={},n=r[o]=new t.viewClass(e,t.parent);r[o].template=(t.template,Object,t.template),r[o].viewList=t,r[o].args[t.keyProperty]=i,r[o].args[t.subProperty]=t.args.value[i];var a=e.bindTo(t.subProperty,function(n,r){var i=e[t.keyProperty];t.args.value[i]=n}),s=t.subArgs.bindTo(function(t,n,r,i){e[n]=t});n.onRemove(function(){a(),s(),t._onRemove.remove(a),t._onRemove.remove(s)}),t._onRemove.add(a),t._onRemove.add(s),e[t.subProperty]=t.args.value[i]}()}for(var c in e){var u=!1;for(var l in r)if(e[c]===r[l]){u=!0;break}u||e[c].remove()}if(Array.isArray(this.args.value)){this.rendered=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=r.length-n-1;return r[i]?r[i]===t.views[i]?r[i].firstNode?e(n+1):(r[i].render(t.tag,r[i+1]),r[i].rendered.then(function(){return e(n+1)})):(r[i].render(t.tag,r[i+1]),t.views.splice(i,0,r[i]),r[i].rendered.then(function(){return e(n+1)})):Promise.resolve()}()}else{var f=[],p=Object.assign({},r),d=function(e){if(delete p[e],r[e].firstNode&&r[e]===t.views[e])return"continue";r[e].render(t.tag),f.push(r[e].rendered.then(function(){return r[e]}))};for(var v in r)d(v);for(var h in p)delete this.args.views[h],p.remove();this.rendered=Promise.all(f)}for(var g in this.views=r,r)isNaN(g)?r[g].args[this.keyProperty]=g.substr(1):r[g].args[this.keyProperty]=g;this.willReRender=!1}}},{key:"pause",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];for(var e in this.views)this.views[e].pause(t)}},{key:"onRemove",value:function(t){this._onRemove.add(t)}},{key:"remove",value:function(){for(var e in this.views)this.views[e].remove();var n=this._onRemove.items();for(var r in n)this._onRemove.remove(n[r]),n[r]();for(;this.cleanup.length;)this.cleanup.pop()();for(this.views=[];this.tag&&this.tag.firstChild;)this.tag.removeChild(this.tag.firstChild);this.subArgs&&t.Bindable.clearBindings(this.subArgs),t.Bindable.clearBindings(this.args),this.args.value&&!this.args.value.isBound()&&t.Bindable.clearBindings(this.args.value),this.removed=!0}}])&&s(n.prototype,o),c&&s(n,c),e}();e.ViewList=c}()}),require.register("curvature/form/ButtonField.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonField=void 0;var t=n("./Field");function r(t){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var a=s(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t.Field);var n,r,s,c=o(u);function u(t,e,n,r){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(i=c.call(this,t,e,n,r)).args.title=i.args.title||i.args.value,i._onClick=[];var a=i.args.attrs||{};return a.type=a.type||i.args.type,i.args.name=a.name=i.args.name||r,i.template='\n\t\t\t<label\n\t\t\t\tfor       = "'.concat(i.getName(),'"\n\t\t\t\tdata-type = "').concat(a.type,'"\n\t\t\t\tcv-ref    = "label:curvature/base/Tag">\n\t\t\t\t<input\n\t\t\t\t\tname      = "').concat(i.getName(),'"\n\t\t\t\t\ttype      = "').concat(a.type,'"\n\t\t\t\t\tvalue     = "[[value]]"\n\t\t\t\t\tcv-on     = "click:clicked(event)"\n\t\t\t\t\tcv-ref    = "input:curvature/base/Tag"\n\t\t\t\t\tcv-expand = "attrs"\n\t\t\t\t/>\n\t\t\t</label>\n\t\t'),i}return n=u,(r=[{key:"clicked",value:function(t){this._onClick.map(function(e){return!1===e(t)}).filter(function(t){return t}).length?"submit"==this.args.attrs.type&&(t.preventDefault(),t.stopPropagation()):"submit"==this.args.attrs.type&&(t.preventDefault(),t.stopPropagation(),this.form.tags.formTag.element.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})))}},{key:"onClick",value:function(t){this._onClick.push(t)}}])&&i(n.prototype,r),s&&i(n,s),u}();e.ButtonField=c}()}),require.register("curvature/form/Field.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Field=void 0;var t=n("../base/View");n("../base/Bindable");function r(t){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var a=s(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t.View);var n,r,s,c=o(u);function u(t,e,n,r){var i,a,o,s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var l=Object.assign({},t);(s=c.call(this,l)).args.title=null!==(i=s.args.title)&&void 0!==i?i:r,s.args.value=null!==(a=s.args.value)&&void 0!==a?a:"",s.value=null!==(o=s.args.value)&&void 0!==o?o:"",s.skeleton=l,s.disabled=null,s.args.valueString="",s.form=e,s.parent=n,s.key=r,s.ignore=s.args.attrs&&s.args.attrs["data-cv-ignore"]||!1;var f="",p=s.args.attrs||{};p.type=p.type||l.type||null,s.args.name=p.name=p.name||s.args.name||r,"checkbox"==p.type&&(f='value = "1"'),s.template='\n\t\t\t<label\n\t\t\t\tfor           = "'.concat(s.getName(),'"\n\t\t\t\tdata-type     = "').concat(p.type||"text",'"\n\t\t\t\tcv-ref        = "label:curvature/base/Tag"\n\t\t\t>\n\t\t\t\t<span cv-if = "title">\n\t\t\t\t\t<span cv-ref = "title:curvature/base/Tag">[[title]]</span>\n\t\t\t\t</span>\n\t\t\t\t<input\n\t\t\t\t\tname      = "').concat(s.getName(),'"\n\t\t\t\t\ttype      = "').concat(p.type||"text",'"\n\t\t\t\t\tcv-bind   = "value"\n\t\t\t\t\tcv-ref    = "input:curvature/base/Tag"\n\t\t\t\t\tcv-expand = "attrs"\n\t\t\t\t\t').concat(f,'\n\t\t\t\t/>\n\t\t\t\t<span cv-each = "errors:error:e">\n\t\t\t\t\t<p class = "cv-error">[[error]]</p>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t');var d=null;return s.args.bindTo("value",function(t,e){if(!isNaN(t)&&t.length&&t==Number(t)&&t.length===String(Number(t)).length&&(t=Number(t)),s.value=t,d!=e){if(d=r,s.args.valueString=JSON.stringify(t||"",null,4),s.valueString=s.args.valueString,"file"==p.type&&s.tags.input&&s.tags.input.element.files&&s.tags.input.element.length)if(p.multiple){var n=Array.from(s.tags.input.element.files);if(s.parent.args.value[e]&&n.length){for(var i in n)n[i]!==s.parent.args.value[r][i]&&(s.parent.args.value[r]=n);s.parent.args.value.splice(n.length)}else s.parent.args.value[r]=n}else s.parent.args.value[r]=s.tags.input.element.files[0];else s.parent.args.value||(s.parent.args.value={}),s.parent.args.value[r]=t;s.args.errors=[],d=null}}),s.parent.args.value[s.key]=s.args.value,s.parent.args.value.bindTo(r,function(t,e){if(d!=e){if(d=e,"file"==p.type)if(s.tags.input&&s.tags.input.element.files&&s.tags.input.element.files.length)if(p.multiple){var n=Array.from(s.tags.input.element.files);if(s.parent.args.value[r]&&n.length){for(var i in n)n[i]!==s.parent.args.value[r][i]&&(s.parent.args.value[r]=n);s.parent.args.value[r].splice(n.length)}else s.parent.args.value[r]=n}else s.parent.args.value[r]=s.tags.input.element.files[0];else s.args.value=t;else s.args.value=t;d=null}}),s}return n=u,(r=[{key:"disable",value:function(){this.hasChildren(),this.disabled="disabled"}},{key:"enable",value:function(){this.hasChildren(),this.disabled=!1}},{key:"hasChildren",value:function(){return!1}},{key:"getName",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.tags.input)return this.tags.input.element.getAttribute("name");var e=this.key;if(t){for(var n=this.parent,r=[e];n&&n.array&&void 0!==n.key;)r.unshift(n.key),n=n.parent;e=r.shift(),r.length&&(e+="[".concat(r.join("]["),"]"))}return e}}])&&i(n.prototype,r),s&&i(n,s),u}();e.Field=c}()}),require.register("curvature/form/FieldSet.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FieldSet=void 0;var t=n("./Field"),r=n("./Form");function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var a=u(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;return c(t)}(this,n)}}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(f,t.Field);var n,i,u,l=s(f);function f(t,e,n,i){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f);var o=(a=l.call(this,t,e,n,i)).args.attrs||{};return o.type=o.type||"fieldset",a.array=!1,(t.array||o["data-array"]||o["data-multi"])&&(a.array=o["data-array"]=!0),a.args.value={},a.args.fields=r.Form.renderFields(t.children,c(a)),a.fields=a.args.fields,a.template='\n\t\t\t<label\n\t\t\t\tfor        = "'.concat(a.getName(),'"\n\t\t\t\tdata-type  = "').concat(o.type,'"\n\t\t\t\tdata-multi = "').concat(o["data-multi"]?"true":"false",'"\n\t\t\t\tcv-ref     = "label:curvature/base/Tag"\n\t\t\t>\n\t\t\t\t<span cv-if = "title">\n\t\t\t\t\t<span cv-ref = "title:curvature/base/Tag">[[title]]</span>\n\t\t\t\t</span>\n\t\t\t\t<fieldset\n\t\t\t\t\tname   = "').concat(a.getName(),'"\n\t\t\t\t\tcv-ref = "input:curvature/base/Tag"\n\t\t\t\t\tcv-expand="attrs"\n\t\t\t\t\tcv-each = "fields:field"\n\t\t\t\t>\n\t\t\t\t\t[[field]]\n\t\t\t\t</fieldset>\n\t\t\t\t<span cv-each = "errors:error:e">\n\t\t\t\t\t<p class = "cv-error">[[error]]</p>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t'),a}return n=f,(i=[{key:"hasChildren",value:function(){return!!Object.keys(this.args.fields).length}},{key:"wrapSubfield",value:function(t){return t}}])&&a(n.prototype,i),u&&a(n,u),f}();e.FieldSet=l}()}),require.register("curvature/form/Form.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Form=void 0;var t=n("../base/View"),r=n("./Field"),i=n("./FieldSet"),a=n("./SelectField"),o=n("./RadioField"),s=n("./HtmlField"),c=n("./HiddenField"),u=n("./ButtonField"),l=n("./TextareaField"),f=n("./multiField/View"),p=n("../base/Bindable");function d(t){"@babel/helpers - typeof";return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(_,t.View);var n,d,y,w=g(_);function _(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_),(e=w.call(this,{})).args.flatValue=e.args.flatValue||{},e.args.value=e.args.value||{},e.args.method=t._method||"GET",e.args.classes=e.args.classes||[],e.skeleton=t,e.args.bindTo("classes",function(t){e.args._classes=t.join(" ")}),e._onSubmit=[],e._onRender=[],e.action="",e.template='\n\t\t\t<form\n\t\t\t\tclass     = "[[_classes]]"\n\t\t\t\tmethod    = "[[method]]"\n\t\t\t\tenctype   = "multipart/form-data"\n\t\t\t\tcv-on     = "submit:submit(event)"\n\t\t\t\tcv-ref    = "formTag:curvature/base/Tag"\n\t\t\t\tcv-each   = "fields:field"\n\t\t\t\tcv-expand = "attrs"\n\t\t\t>\n\t\t\t\t[[field]]\n\t\t\t</form>\n\t\t',e.args.fields=_.renderFields(t,b(e),n),e.fields=e.args.fields;var r=p.Bindable.makeBindable(b(e));return e.args.bindTo("value",function(t){r.value=t}),e.args.bindTo("valueString",function(t){r.json=t}),m(e,r)}return n=_,y=[{key:"renderFields",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},p={},d=function(d){if(p[d])return"continue";if("_"==d.substr(0,1))return"continue";var v=null,h=null;if(e&&(h=e instanceof _?e:e.form),n&&t[d].name in n)v=new n[t[d].name](t[d],h,e,d);else switch(t[d].type){case"fieldset":v=t[d].attrs&&t[d].attrs["data-multi"]?new f.View(t[d],h,e,d):new i.FieldSet(t[d],h,e,d);break;case"select":v=new a.SelectField(t[d],h,e,d);break;case"radios":v=new o.RadioField(t[d],h,e,d);break;case"html":v=new s.HtmlField(t[d],h,e,d);break;case"submit":case"button":v=new u.ButtonField(t[d],h,e,d);break;case"hidden":v=new c.HiddenField(t[d],h,e,d);break;case"textarea":v=new l.TextareaField(t[d],h,e,d);break;default:v=new r.Field(t[d],h,e,d)}p[d]=v;var g=v.key;v.args.bindTo("value",function(t,n,r,i){if(!isNaN(t)&&t.length&&t==Number(t)&&t.length===String(Number(t)).length&&(t=Number(t)),("html"!=r.type||r.contentEditable)&&"fieldset"!=r.type)if(r.disabled)delete h.args.flatValue[g];else{r.attrs=r.attrs||{};r.attrs.multiple;var a=Array.isArray(t),o=e.args.value[g];if(r.attrs.multiple&&a&&Array.isArray(o))for(var s in t)t[s]!==e.args.value[g][s]&&(e.args.value[g][s]=t[s]),e.args.value[g].splice(t.length);else e.args.value[g]=t;h.args.flatValue[g]=t,h.args.valueString=JSON.stringify(h.args.value,null,4),console.log()}})};for(var v in t)d(v);return p}},{key:"_updateFields",value:function(t,e){for(var n in t.args.fields){var r=t.args.fields[n];e[n]&&(e[n].value&&(r.args.value=e[n].value),e[n].errors&&(r.args.errors=e[n].errors),e[n].title&&(r.args.title=e[n].title),e[n].options&&(r.args.options=e[n].options),e[n].attrs&&(r.args.attrs=e[n].attrs),r.children&&e[n].children&&this._updateFields(r,e[n].children))}}}],(d=[{key:"submitHandler",value:function(t){t.preventDefault(),t.stopPropagation()}},{key:"submit",value:function(t){for(var e in this.args.valueString=JSON.stringify(this.args.value,null,4),this._onSubmit)this._onSubmit[e](this,t)}},{key:"buttonClick",value:function(t){}},{key:"onSubmit",value:function(t){this._onSubmit.push(t)}},{key:"onRender",value:function(t){this.nodes?t(this):this._onRender.push(t)}},{key:"formData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];t||(t=new FormData),e||(e=this);for(var r in e.args.fields)if(!e.args.fields[r]||!e.args.fields[r].disabled){var i=n.slice(0);if(i.push(r),e.args.fields[r]&&e.args.fields[r].hasChildren())this.formData(t,e.args.fields[r],i);else if(e.args.fields[r]){var a=e.args.fields[r].getName();if("file"==e.args.fields[r].args.type&&e.args.fields[r].tags.input.element.files&&e.args.fields[r].tags.input.element.files.length)if(e.args.fields[r].args.attrs.multiple)for(var o=e.args.fields[r].tags.input.element.files,s=0;s<o.length;s++)o[s]&&t.append(a+"[]",o[s]);else e.args.fields[r].tags.input.element.files[0]&&t.append(a,e.args.fields[r].tags.input.element.files[0]);else("file"!==e.args.fields[r].args.type||e.args.fields[r].args.value)&&t.append(a,void 0===e.args.fields[r].args.value?"":e.args.fields[r].args.value)}}return t}},{key:"queryString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[];for(var n in this.args.flatValue)t[n]=t[n]||this.args.flatValue[n];for(var r in t)e.push(r+"="+encodeURIComponent(t[r]));return e.join("&")}},{key:"populate",value:function(t){for(var e in t)this.args.value[e]=t[e]}},{key:"hasChildren",value:function(){return!!Object.keys(this.args.fields).length}},{key:"postRender",value:function(){for(var t in this._onRender)this._onRender[t](this)}}])&&v(n.prototype,d),y&&v(n,y),_}();e.Form=w}()}),require.register("curvature/form/HiddenField.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenField=void 0;var t=n("./Field");function r(t){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=o(t);if(e){var a=o(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(r,t.Field);var n=a(r);function r(t,e,i,a){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),t.type="hidden";var s=(o=n.call(this,t,e,i,a)).args.attrs||{};return o.args.type=s.type=s.type||o.args.type||"hidden",o.args.name=s.name=s.name||o.args.name||a,o.template='\n\t\t\t<label\n\t\t\t\tfor       = "'.concat(o.getName(),'"\n\t\t\t\tdata-type = "').concat(s.type,'"\n\t\t\t\tstyle     = "display:none"\n\t\t\t\tcv-ref    = "label:curvature/base/Tag">\n\t\t\t\t<input\n\t\t\t\t\t\tname      = "').concat(o.getName(),'"\n\t\t\t\t\t\ttype      = "hidden"\n\t\t\t\t\t\tcv-bind   = "value"\n\t\t\t\t\t\tcv-ref    = "input:curvature/base/Tag"\n\t\t\t\t\t\tcv-expand = "attrs"\n\t\t\t\t/>\n\t\t\t\t<span cv-if = "value">[[[value]]]</span>\n\t\t\t</label>\n\t\t'),o}return r}();e.HiddenField=s}()}),require.register("curvature/form/HtmlField.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HtmlField=void 0;var t=n("./Field");function r(t){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var a=s(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t.Field);var n,r,s,c=o(u);function u(t,e,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(i=c.call(this,t,e,n,r)).key=r,i.args.tagName=i.args.tagName||"div",i.args.displayValue=i.args.value,i.args.attrs=i.args.attrs||{},i.ignore=i.args.attrs["data-cv-ignore"]||!1,i.args.contentEditable=i.args.attrs.contenteditable||!1,i.args.bindTo("value",function(t){i.tags.input&&i.tags.input.element!==document.activeElement&&(i.args.displayValue=t)}),i.template="<".concat(i.args.tagName,'\n\t\t\tname            = "').concat(i.getName(),'"\n\t\t\tcv-ref          = "input:curvature/base/Tag"\n\t\t\tcontenteditable = "[[contentEditable]]"\n\t\t\tcv-expand       = "attrs"\n\t\t\tcv-bind         = "$displayValue"\n\t\t\tcv-on           = "input:inputProvided(event);"\n\t\t></').concat(i.args.tagName,">"),i}return n=u,(r=[{key:"inputProvided",value:function(t){this.args.value=t.target.innerHTML}},{key:"hasChildren",value:function(){return!1}},{key:"getName",value:function(){return this.key}}])&&i(n.prototype,r),s&&i(n,s),u}();e.HtmlField=c}()}),require.register("curvature/form/RadioField.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RadioField=void 0;var t=n("./Field");function r(t){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var a=s(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t.Field);var n,r,s,c=o(u);function u(t,e,n,r){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var a=(i=c.call(this,t,e,n,r)).args.attrs||{};return i.args.name=a.name=a.name||i.args.name||r,i.args.value=i.args.value||"",i.template='\n\t\t\t<label\n\t\t\t\tfor       = "'.concat(i.getName(),'"\n\t\t\t\tdata-type = "').concat(a.type,'"\n\t\t\t\tcv-ref    = "label:curvature/base/Tag">\n\t\t\t\t<span cv-if = "title">\n\t\t\t\t\t<span cv-ref = "title:curvature/base/Tag">[[title]]</span>\n\t\t\t\t</span>\n\t\t\t\t<span cv-each  = "options:option:optionText"/>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tname      = "').concat(i.args.name,'"\n\t\t\t\t\t\t\ttype      = "radio"\n\t\t\t\t\t\t\tvalue     = "[[option]]"\n\t\t\t\t\t\t\tcv-bind   = "value"\n\t\t\t\t\t\t\tcv-expand = "attrs"\n\t\t\t\t\t\t\tcv-on     = "change:changed(event)"\n\t\t\t\t\t/>\n\t\t\t\t\t\t[[optionText]]\n\t\t\t\t\t</label>\n\t\t\t\t</span>\n\t\t\t\t<span cv-each = "errors:error:e">\n\t\t\t\t\t<p class = "cv-error">[[error]]</p>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t'),i}return n=u,(r=[{key:"getLabel",value:function(){for(var t in this.args.options)if(this.args.options[t]==this.args.value)return t}},{key:"changed",value:function(t){this.args.value=t.target.value}}])&&i(n.prototype,r),s&&i(n,s),u}();e.RadioField=c}()}),require.register("curvature/form/SelectField.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectField=void 0;var t=n("./Field");function r(t){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){c=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var a=u(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(l,t.Field);var n,r,a,u=c(l);function l(t,e,n,r){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var a=(i=u.call(this,t,e,n,r)).args.attrs||{};return i.template='\n\t\t\t<label\n\t\t\t\tfor       = "'.concat(i.getName(),'"\n\t\t\t\tdata-type = "').concat(a.type||"select",'"\n\t\t\t\tcv-ref    = "label:curvature/base/Tag">\n\t\t\t\t<span cv-if = "title">\n\t\t\t\t\t<span cv-ref = "title:curvature/base/Tag">[[title]]</span>\n\t\t\t\t</span>\n\t\t\t\t<select\n\t\t\t\t\tname      = "').concat(i.getName(),'"\n\t\t\t\t\tcv-bind   = "value"\n\t\t\t\t\tcv-each   = "options:option:optionText"\n\t\t\t\t\tcv-ref    = "input:curvature/base/Tag"\n\t\t\t\t\tcv-expand = "attrs"\n\t\t\t\t/>\n\t\t\t\t\t<option value = "[[option]]">[[optionText]]</option>\n\t\t\t\t</select>\n\t\t\t\t<span cv-each = "errors:error:e">\n\t\t\t\t\t<p class = "cv-error">[[error]]</p>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t'),i}return n=l,(r=[{key:"postRender",value:function(){var t=this;this.args.bindTo("value",function(e){return t.selectOptionByValue(e)}),this.args.bindTo("options",function(e){t.viewLists.options.rendered.then(function(e){t.selectOptionByValue(t.args.value)})},{frame:!0})}},{key:"selectOptionByValue",value:function(t){var e,n=this.tags.input.element,r=i(n.options);try{for(r.s();!(e=r.n()).done;){var a=e.value;a.value==t&&(n.selectedIndex=a.index)}}catch(t){r.e(t)}finally{r.f()}}},{key:"getLabel",value:function(){for(var t in this.args.options)if(this.args.options[t]==this.args.value)return t}}])&&o(n.prototype,r),a&&o(n,a),l}();e.SelectField=l}()}),require.register("curvature/form/TextareaField.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextareaField=void 0;var t=n("./Field");function r(t){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=o(t);if(e){var a=o(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(r,t.Field);var n=a(r);function r(t,e,i,a){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var s=(o=n.call(this,t,e,i,a)).args.attrs||{};return s.type=s.type||"textarea",o.template='\n\t\t\t<label\n\t\t\t\tfor       = "'.concat(o.getName(),'"\n\t\t\t\tdata-type = "').concat(s.type,'"\n\t\t\t\tcv-ref    = "label:curvature/base/Tag">\n\t\t\t\t<span cv-if = "title">\n\t\t\t\t\t<span cv-ref = "title:curvature/base/Tag">[[title]]</span>\n\t\t\t\t</span>\n\t\t\t\t<textarea\n\t\t\t\t\t\tname      = "').concat(o.getName(),'"\n\t\t\t\t\t\tcv-bind   = "value"\n\t\t\t\t\t\tcv-ref    = "input:curvature/base/Tag"\n\t\t\t\t\t\tcv-expand = "attrs"\n\t\t\t\t></textarea>\n\t\t\t\t<cv-template cv-if = "attrs.data-caption">\n\t\t\t\t\t<p>[[attrs.data-caption]]</p>\n\t\t\t\t</cv-template>\n\t\t\t\t<span cv-each = "errors:error:e">\n\t\t\t\t\t<p class = "cv-error">[[error]]</p>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t'),o}return r}();e.TextareaField=s}()}),require.register("curvature/form/multiField/CreateForm.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CreateForm=void 0;var t=n("./FormWrapper");n("../../form/HiddenField");function r(t){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var a=c(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(f,t.FormWrapper);var n,r,u,l=s(f);function f(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(n=l.call(this,t,e,"POST",r||{})).creating=!!t.publicId,n}return n=f,(r=[{key:"onLoad",value:function(t){for(var e in t.args.fields)if(t.args.fields[e].tags.input&&"hidden"!=t.args.fields[e].args.attrs.type){t.args.fields[e].tags.input.element.focus();break}a(c(f.prototype),"onLoad",this).call(this,t)}},{key:"onRequest",value:function(){return this.args.view.args.loading=!0,this.args.view.args.classes+=" loading",a(c(f.prototype),"onRequest",this).call(this)}},{key:"onResponse",value:function(t){this.args.view.args.loading=!1,this.args.view.args.classes="",this.args.wrapper?this.args.wrapper.refresh(t.body):this.args.view.addRecord(t.body),this.args.view.args.creating="",a(c(f.prototype),"onResponse",this).call(this,t)}}])&&i(n.prototype,r),u&&i(n,u),f}();e.CreateForm=u}()}),require.register("curvature/form/multiField/FormWrapper.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormWrapper=void 0;var t=n("../../base/Repository"),r=n("../../form/Form"),i=n("../../toast/Toast"),a=(n("../../toast/ToastAlert"),n("../../base/View")),o=n("../../base/Router");function s(t){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(v,a.View);var n,s,u,d=p(v);function v(e,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),(i=d.call(this,e)).path=n,i.args.method=a,i.args.action=i.args.action||null,i.args.form=null,i.args.title=null,i.args.class="",i.template='\n\t\t\t<div class = "form constrict [[class]]">\n\t\t\t\t<div cv-if = "title"><label>[[title]]</label></div>\n\t\t\t\t[[form]]\n\t\t\t</div>\n\t\t',i._onLoad=[],i._onSubmit=[],i._onRender=[],i._onRequest=[],i._onError=[],i._onResponse=[],n instanceof r.Form?i.loadForm(form,o):t.Repository.request(n).then(function(t){t&&t.meta&&t.meta.form&&t.meta.form instanceof Object?(i.loadForm(new r.Form(t.meta.form,o)),i.onLoad(i.args.form,t.body)):console.log("Cannot render form with ",t)}),i}return n=v,(s=[{key:"loadForm",value:function(e){var n=this;this.args.form=e,this.args.form.onSubmit(function(e,r){if(!1!==n.onSubmit(e,r)){r&&(r.preventDefault(),r.stopPropagation());var i=e.tags.formTag.element,a=i.getAttribute("action")||n.args.action||n.path,s=i.getAttribute("method")||n.args.method,u=e.args.flatValue;if("GET"==(s=s.toUpperCase())){var l={};for(var f in n.args.content&&n.args.content.args&&(n.args.content.args.page=0),l.page=0,u)"api"!==f&&(l[f]=u[f]);n.onRequest(l).then(function(){n.onResponse({}),o.Router.go(a+"?"+o.Router.queryToString(l)),n.update(l)}).catch(function(t){n.onRequestError(t)})}else if("POST"==s){var p,d=e.formData(),v=c(d.entries());try{for(v.s();!(p=v.n()).done;)p.value}catch(t){v.e(t)}finally{v.f()}var h=n.onRequest(d);h&&h.then(function(){t.Repository.request(a,{api:"json"},d,!1,{progressDown:function(t){n.progressDown(t)},progressUp:function(t){n.progressUp(t)}}).then(function(t){n.onResponse(t)}).catch(function(t){n.onRequestError(t)})})}}})}},{key:"onRequest",value:function(t){var e=[];for(var n in this._onRequest){var r=this._onRequest[n](t,this);r&&e.push(r)}return 0==e.length?Promise.resolve():Promise.all(e)}},{key:"onRequestError",value:function(t){for(var e in this._onError)this._onError[e](t,this);if(t.messages)for(var n in t.messages)i.Toast.instance().alert(t.body&&t.body.id?"Success!":"Error!",t.messages[n],3500)}},{key:"onResponse",value:function(t){for(var e in this._onResponse)this._onResponse[e](t,this);if(t.messages)for(var n in t.messages)i.Toast.instance().alert(t.body&&t.body.id?"Success!":"Error!",t.messages[n],3500)}},{key:"onLoad",value:function(t,e){for(var n in this._onLoad)this._onLoad[n](this,t,e)}},{key:"onSubmit",value:function(t,e){for(var n in this._onSubmit)this._onSubmit[n](this,e)}},{key:"postRender",value:function(){for(var t in this._onRender)this._onRender[t](this.args.form)}},{key:"customFields",value:function(){return{}}},{key:"submit",value:function(){}},{key:"progressUp",value:function(t){console.log(t.loaded,t.total,t.loaded/t.total)}},{key:"progressDown",value:function(t){console.log(t.loaded,t.total,t.loaded/t.total)}}])&&l(n.prototype,s),u&&l(n,u),v}();e.FormWrapper=v}()}),require.register("curvature/form/multiField/SearchForm.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SearchForm=void 0;var t=n("Config"),r=n("./FormWrapper"),i=n("../../form/HiddenField"),a=n("../../base/Repository");function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=t.Config?t.Config.backend:"//",d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(v,r.FormWrapper);var e,n,o,d=l(v);function v(t,e){var n;arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),(n=d.call(this,t,e,"POST",{search:i.HiddenField})).superTemplate=n.template,n.args.records=[],n.selected=null,n.template="\n\t\t\t".concat(n.superTemplate,'\n\t\t\t<div cv-each = "records:record:r" class = "dropdown-results">\n\t\t\t\t<div\n\t\t\t\t\tcv-on         = "click:select(event)"\n\t\t\t\t\tdata-index    = "[[r]]"\n\t\t\t\t\tdata-publicId = "[[record.publicId]]"\n\t\t\t\t\tclass         = "[[record.classes]]"\n\t\t\t\t>\n\t\t\t\t\t[[record.title]]\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'),n}return e=v,(n=[{key:"onLoad",value:function(t){var e=this;for(var n in t.args.fields)if(t.args.fields[n].tags.input&&"hidden"!=t.args.fields[n].args.attrs.type){t.args.fields[n].tags.input.element.focus();break}t.args.flatValue.bindTo("keyword",function(t){e.args.records=[],e.selected=null,t&&(console.log(e.path,t),a.Repository.request(p+e.path,{keyword:t}).then(function(n){console.log(n.body),n.body&&(e.args.records=n.body.map(function(n){return n.classes="",n.title==t&&(n.classes="selected",e.selected=n),n}))}))}),c(f(v.prototype),"onLoad",this).call(this,t)}},{key:"onRequest",value:function(){return c(f(v.prototype),"onRequest",this).call(this)}},{key:"onResponse",value:function(t){c(f(v.prototype),"onResponse",this).call(this,t)}},{key:"select",value:function(t){var e=t.target.getAttribute("data-index"),n=(t.target.getAttribute("data-publicId"),this.args.records[e]);console.log(n),this.args.view.addRecord(n),this.args.view.addButtonClicked()}},{key:"onSubmit",value:function(t,e){return e.preventDefault(),e.stopPropagation(),this.selected&&(this.args.view.addRecord(this.selected),this.args.view.addButtonClicked()),!1}}])&&s(e.prototype,n),o&&s(e,o),v}();e.SearchForm=d}()}),require.register("curvature/form/multiField/View.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;var t=n("Config"),r=n("../../form/Form"),i=n("../../form/FieldSet"),a=n("./CreateForm"),o=n("./SearchForm"),s=(n("./FormWrapper"),n("./Wrapper"));function c(t){"@babel/helpers - typeof";return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;return p(t)}(this,n)}}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(g,i.FieldSet);var n,d,v,h=f(g);function g(t,e,n,r){var i;for(var a in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),(i=h.call(this,t,e,n,r)).args._fields=[],i.dragging=!1,i.dropping=!1,i.args.fields)i.args._fields[a]=i.wrapSubfield(i.args.fields[a]);return i.args.fields[-1].disable(),i.args.creating="",i.args.fieldType="",i.args.createForm=i.args.createForm||"",i.args.searchForm=i.args.searchForm||"",i.args.createFormReady=!1,i.setCreateForm({view:p(i)}),i.args.loader="...",i.args.addIcon="&#215;",i.args.addIcon="a",i.args.addIcon="+",i.args.draggable="true",i.template='\n\t\t\t<label\n\t\t\t\tfor        = "'.concat(i.args.name,'"\n\t\t\t\tdata-type  = "').concat(i.args.attrs.type,'"\n\t\t\t\tdata-multi = "').concat(i.args.attrs["data-multi"]?"true":"false",'"\n\t\t\t>\n\t\t\t\t<span cv-if = "title">\n\t\t\t\t\t<span cv-ref = "title:curvature/base/Tag">[[title]]</span>\n\t\t\t\t</span>\n\n\t\t\t\t<fieldset\n\t\t\t\t\tname  = "').concat(i.args.name,'"\n\t\t\t\t\tclass = "multi-field [[creating]] [[fieldType]]"\n\t\t\t\t>\n\n\t\t\t\t\t<div class = "record-list" cv-each = "_fields:field:f">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass     = "single-record"\n\t\t\t\t\t\t\tdata-for  = "[[f]]"\n\t\t\t\t\t\t>[[field]]</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class = "overlay create">\n\t\t\t\t\t\t<div class = "form constrict">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tcv-on = "click:addButtonClicked(event)"\n\t\t\t\t\t\t\t\tclass = "bubble bottom left-margin close"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t&#215;\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t[[createForm]]\n\t\t\t\t\t\t[[searchForm]]\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class = "overlay loading">\n\t\t\t\t\t\t[[loader]]\n\t\t\t\t\t</div>\n\t\t\t\t\t<div cv-if = "createFormReady" class="add-button-holder">\n\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcv-on = "click:addButtonClicked(event)"\n\t\t\t\t\t\t\tclass = "bubble bottom left-margin add"\n\t\t\t\t\t\t\ttab-index = "0"\n\t\t\t\t\t\t>[[addIcon]]</div>\n\n\t\t\t\t\t</div>\n\n\t\t\t\t</fieldset>\n\n\t\t\t\t<span cv-each = "errors:error:e">\n\t\t\t\t\t<p class = "cv-error">[[error]]</p>\n\t\t\t\t</span>\n\n\t\t\t</label>\n\t\t'),i}return n=g,(d=[{key:"setCreateForm",value:function(e){var n=this,r="";t.Config&&t.Config.backend&&(r=t.Config.backend),!1!==this.args.attrs["data-create-endpoint"]?(this.args.createForm=new a.CreateForm(Object.assign({},e),this.args.attrs["data-create-endpoint"]?r+this.args.attrs["data-create-endpoint"]:e.publicId?r+"".concat(this.args.attrs["data-endpoint"],"/").concat(e.publicId,"/edit"):r+"".concat(this.args.attrs["data-endpoint"],"/create")),this.args.createForm._onLoad.push(function(t,e){n.args.createFormReady=!0})):this.args.createFormReady=!0,console.log(this.args.createFormReady),this.args.searchForm=new o.SearchForm(Object.assign({},e),r+this.args.attrs["data-endpoint"])}},{key:"wrapSubfield",value:function(t){return new s.Wrapper({field:t,parent:this})}},{key:"addButtonClicked",value:function(){this.args.creating||(this.args.creating="creating")}},{key:"addRecord",value:function(t){for(var e in this.args.creating="",Array.isArray(t)||(t=[t]),t){this.args.fields[-1].constructor;var n,i=Object.assign({},this.args.fields[-1].skeleton),a=Object.values(this.args.fields).length-1;i=this.cloneSkeleton(i),(i=this.correctNames(i,a)).attrs=null!==(n=i.attrs)&&void 0!==n?n:{},i.attrs["data-array"]=!0;var o={};o[a]=i;var s=r.Form.renderFields(o,this)[a];this.args.fields[a]=s;var c=this.wrapSubfield(s);s.args.value.id=t[e].id||"",s.args.value.class=t[e].class||"",s.args.value.title=t[e].title||"",s.args.value.key=this.args._fields.length,this.args._fields.push(c),c.refresh(t[e])}}},{key:"editRecord",value:function(t,e){this.setCreateForm({view:this,publicId:t.publicId,wrapper:e}),this.args.creating=this.args.creating?"":"creating"}},{key:"deleteImage",value:function(t){console.log(t,this.args.fields),this.args.fields[t].disable(),this.args._fields[t].args.classes="deleted"}},{key:"undeleteImage",value:function(t){this.args.fields[t].enable(),this.args._fields[t].args.classes=""}},{key:"cloneSkeleton",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={};for(var r in Array.isArray(t)&&(n=[]),t)"fields"!=r&&(t[r]&&"object"===c(t[r])?n[r]=Object.assign({},this.cloneSkeleton(t[r],e+1)):n[r]=t[r]);return n}},{key:"correctNames",value:function(t,e){if(t.name=t.name.replace(/\[-1\]/,"[".concat(e,"]")),t.attrs.name=t.name,"children"in t)for(var n in t.children)t.children[n]=this.correctNames(t.children[n],e);return t}},{key:"drag",value:function(t){this.dragging=t.target}},{key:"dragOver",value:function(t){if(!this.dragging)return!1;for(var e=t.target;e&&!e.matches('[draggable="true"]');)e=e.parentNode;e&&(this.dropping=e,t.preventDefault())}},{key:"drop",value:function(t){t.stopPropagation();var e=this.dragging.querySelector("label"),n=this.dropping.querySelector("label"),r=e.getAttribute("for"),i=n.getAttribute("for"),a=this.extractIndex(r),o=this.extractIndex(i);if(a==o||a==o-1)return this.dragging=!1,void(this.dropping=!1);var s,c,u=e.querySelectorAll('[name^="'+r+'"]'),l=e.querySelectorAll('[for^="'+r+'"]'),f=n.querySelectorAll('[name^="'+i+'"]'),p=n.querySelectorAll('[for^="'+i+'"]'),d=this.dropping,v=0;for(var h in this.args.fields){var g=this.args.fields[h].tags.input.element,m=this.args.fields[h].tags.label.element,b=g.getAttribute("name");e==m&&(s=this.args.fields[h]),n==m&&(c=this.args.fields[h]);var y=this.extractIndex(b),w=!1;if(!(y<0)&&(a>o&&y>=o&&y<=a?(w=this.changeIndex(b,y+1),v=-1):a<o&&y<=o&&y>=a&&(w=this.changeIndex(b,y-1),v=0),!1!==w)){this.changeAttributePrefix(m,"for",b,w),this.args.fields[h].args.fieldName=w,this.changeAttributePrefix(g,"name",b,w);for(var _=g.parentNode.querySelectorAll('[name^="'+b+'"]'),k=0;k<_.length;k++)this.changeAttributePrefix(_[k],"name",b,w);for(var O=g.parentNode.querySelectorAll('[for^="'+b+'"]'),j=0;j<O.length;j++)this.changeAttributePrefix(O[j],"for",b,w)}}r=e.getAttribute("for"),i=n.getAttribute("for"),a=this.extractIndex(r),o=this.extractIndex(i),this.changeAttributePrefix(e,"for",r,this.changeIndex(r,o+v));for(var R=0;R<u.length;R++)this.changeAttributePrefix(u[R],"name",r,this.changeIndex(r,o+v));for(var S=0;S<l.length;S++)this.changeAttributePrefix(l[S],"for",r,this.changeIndex(r,o+v));s.args.fieldName=e.getAttribute("for"),this.changeAttributePrefix(n,"for",i,this.changeIndex(i,o+v+1));for(var T=0;T<f.length;T++)this.changeAttributePrefix(f[T],"name",i,this.changeIndex(i,o+v+1));for(var P=0;P<p.length;P++)this.changeAttributePrefix(p[P],"for",i,this.changeIndex(i,o+v+1));c.args.fieldName=n.getAttribute("for"),this.dragging.parentNode.insertBefore(this.dragging,d),this.dragging=!1,this.dropping=!1}},{key:"dragStop",value:function(){this.dragging=!1,this.dropping=!1}},{key:"changeAttributePrefix",value:function(t,e,n,r){t.getAttribute(e);var i=r+t.getAttribute(e).substring(n.length);t.setAttribute(e,i)}},{key:"extractIndex",value:function(t){var e;return!!(e=/\[(-?\d+)\]$/.exec(t))&&parseInt(e[1])}},{key:"changeIndex",value:function(t,e){return t.replace(/\[(-?\d+)\]$/,"["+e+"]")}},{key:"cancel",value:function(t){t.stopPropagation()}}])&&u(n.prototype,d),v&&u(n,v),g}();e.View=v}()}),require.register("curvature/form/multiField/Wrapper.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Wrapper=void 0;var t=n("Config"),r=n("../../base/View"),i=n("../../base/Repository");function a(t){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(f,r.View);var n,a,u,l=c(f);function f(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(e=l.call(this,t)).template='\n\t\t\t<div\n\t\t\t\tclass = "wrapped-field [[classes]]"\n\t\t\t\tcv-on = "click:editRecord(event, key)"\n\t\t\t\ttitle = "[[fieldName]]: [[id]]"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tcv-on = "click:deleteImage(event, key)"\n\t\t\t\t\tstyle = "display: inline; cursor:pointer;"\n\t\t\t\t>\n\t\t\t\t\t[[icon]]\n\t\t\t\t</div>\n\t\t\t\t<div class = "field-content">\n\t\t\t\t\t[[title]]\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div style = "display:none">[[field]]</div>\n\t\t',e.args.field=e.args.field||"!",e.args.keyword="",e.args.title="",e.args.record={},e.args.key=e.args.field.key,e.args.classes="",e.args.icon="×",e.deleted=!1,e.args.field.args.bindTo("fieldName",function(t){e.args.fieldName=t}),e.args.fieldName=e.args.field.args.name,e.args.id=e.args.field.args.value.id,e.args.bindTo("id",function(t){e.args.field.args.value.id=t}),e.args.field.args.value.bindTo("id",function(t,n){t&&i.Repository.request(e.backendPath(),{id:t}).then(function(n){e.args.id=t;var r=n.body[0];if(!r)return e.args.publicId=null,void(e.args.title=null);e.refresh(r)})},{wait:0}),e.args.field.args.value.bindTo("keyword",function(t){e.args.keyword=t}),e}return n=f,(a=[{key:"editRecord",value:function(){this.args.parent.editRecord(this.args.record,this)}},{key:"deleteImage",value:function(t,e){t.stopPropagation(),this.deleted?(this.args.icon="×",this.args.parent.undeleteImage(e),this.deleted=!1):(this.args.icon="↺",this.args.parent.deleteImage(e),this.deleted=!0)}},{key:"backendPath",value:function(){return(t.Config?t.Config.backend:"//")+this.args.parent.args.attrs["data-endpoint"]}},{key:"getRecordTitle",value:function(t){return t._titleField?t[t._titleField]:t.title||t.publicId||t.id}},{key:"refresh",value:function(t){for(var e in t)this.args[e]=t[e];this.args.record=t,this.args.title=this.getRecordTitle(t)}}])&&o(n.prototype,a),u&&o(n,u),f}();e.Wrapper=l}()}),require.register("curvature/toast/Toast.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toast=void 0;var t=n("../base/View"),r=n("../base/Bindable"),i=n("./ToastAlert");function a(t){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(a,t.View);var n=u(a);function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=n.call(this)).template='\n\t\t\t<div id = "[[_id]]" cv-each = "alerts:alert" class = "toast">\n\t\t\t\t[[alert]]\n\t\t\t</div>\n\t\t',t.args.alerts=[],t}return s(a,null,[{key:"instance",value:function(){return this.inst||(this.inst=new this),this.inst}}]),s(a,[{key:"pop",value:function(t){var e=this;this.args.alerts.length;this.args.alerts.push(t),t.decay(function(t){return function(){for(var n in e.args.alerts)if(r.Bindable.ref(e.args.alerts[n])===r.Bindable.ref(t))return t.remove(),void delete e.args.alerts[n]}}(t))}},{key:"alert",value:function(t,e,n){return this.pop(new i.ToastAlert({title:t,body:e,time:n}))}}]),a}();e.Toast=f}()}),require.register("curvature/toast/ToastAlert.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToastAlert=void 0;var t=n("../base/View");function r(t){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var a=s(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t.View);var n,r,s,c=o(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=c.call(this,t)).args.running=!1,e.args.time=e.args.time||16e3,e.init=e.args.time,e.args.title=e.args.title||"Standard alert",e.args.status="new",e.args.body=e.args.body||"This is a standard alert.",e.template='\n\t\t\t<div id = "[[_id]]" class = "alert toast-[[status]]">\n\t\t\t\t<h3>[[title]]</h3>\n\t\t\t\t<p>[[body]]</p>\n\t\t\t</div>\n\t\t',e}return n=u,(r=[{key:"decay",value:function(t){var e=this;this.args.running=!0,this.onTimeout(50,function(){e.args.status=""}),this.onTimeout(300,function(){e.args.status="decaying"}),this.onTimeout(2400,function(){e.args.status="imminent"}),this.onTimeout(3500,function(){e.remove()})}}])&&i(n.prototype,r),s&&i(n,s),u}();e.ToastAlert=c}()}),require.register("Config.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.Config=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)};r.project="Ids",r.version="0.0.0",r.title="Ids - Sean Morris | The PHP + Docker Framework | cv2-doc",r.repository="seanmorris/ids",r.tagline="/ eye dee ess / • The PHP + Docker Framework",r.sourceRoot="https://github.com/"+r.repository+"/blob/master/",r.source="/docs.tmp.jsv",r.author="Sean Morris",r.copyright="2011-2023 Sean Morris",r.homeLinks={github:"https://github.com/seanmorris/ids",packagist:"https://packagist.org/packages/seanmorris/ids"},r.pages={home:{description:"Ids℠ The PHP + Docker Framework.",linkTitle:"home",keywords:["ids","php","sean morris"],title:"Ids - Sean Morris | The PHP + Docker Framework",template:"/home.tmp.html",icon:"/home.svg",link:"/"},readme:{description:"",template:"https://api.github.com/repos/"+r.repository+"/contents/README.md",title:"readme",icon:"/readme.svg"},license:{description:"Ids is free for distribution, modification, and use under the Apache-2.0 license.",template:"https://api.github.com/repos/"+r.repository+"/contents/LICENSE",title:"license",icon:"/apache.svg"},author:{description:"I'm a New York based developer with a passion for the web. I currently specialize in PHP & Javascript. I've been doing web development full time since I was seventeen years old. Before that I've always had some sort of hobby project online. I launched my first website in 1998.",keywords:["sean morris","php","developer","programmer","javascript","new york","seanmorris"],template:"/author.tmp.html",title:"about the author",icon:"/me.svg"},"whats-this":{description:"cv2-doc renders documentation stored in github. cv2-doc can be hosted in github pages. cv2-doc is serverless.",template:"/whats-this.tmp.html",title:"whats this?",icon:"/info.svg"}}}),require.register("Head.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Head=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=e("Config"),a=e("curvature/base/View");t.Head=function(t){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return t.title=t.title||i.Config.title,t.description=t.description||"",e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,a.View),r(n,null,[{key:"get",value:function(){return this.instance=this.instance||new this}}]),r(n,[{key:"postRender",value:function(){var t=this,n=(document.head,this.args);n.bindTo("title",function(e){var n=t.getTag("meta",{name:"title"}),r=t.getTag("meta",{property:"og:title"});n.setAttribute("content",e),r.setAttribute("content",e),document.title=e}),n.bindTo("description",function(e){var n=t.getTag("meta",{name:"description"}),r=t.getTag("meta",{property:"og:description"});n.setAttribute("content",e),r.setAttribute("content",e)}),n.bindTo("status",function(e){var n=t.getTag("meta",{name:"prerender-status-code"}),r=t.getTag("meta",{"http-equiv":"Status"});n.setAttribute("content",e),r.setAttribute("content",e)}),this.template=e("./head.tmp"),this.tags={}}},{key:"getTag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(e).sort(),r=t+n.map(function(t){return"["+t+"='"+e[t]+"']"});if(this.tags[r])return this.tags[r];var i=document.querySelector(r);if(i)return i;var a=this.tags[r]=document.createElement(t);return document.head.append(a),n.map(function(t){return a.setAttribute(t,e[t])}),a}}]),n}()}),require.register("Rak.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rak=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=e("./RemoteFile");var o=t.Rak=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.url=e.url||!1,this.remote=null,this.mode=this.constructor.ERROR_MODE,this.escape=!1,this.key=void 0,this.header=void 0,this.source=void 0,this.headerParsed=void 0}return i(t,[{key:"read",value:function(){var t=this;this.remote||(this.remote=new a.RemoteFile(this.url)),this.mode=this.constructor.KEY_MODE,this.remote.readLine(),this.remote.readBytes(1).then(function(e){var n=r(e,1)[0],i=String.fromCharCode(n);t.escape||";"!==i||t.mode++,"\\"===i&&(t.escape=!0),t.escape=!1})}}]),t}();["ERROR_MODE","KEY_MODE","HEADER_MODE","HEADER_DONE_MODE","VALUE_MODE","VALUE_DONE_MODE"].map(function(t,e){Object.assign(o,t,{configurable:!1,writable:!1,value:e})})}),require.register("RemoteFile.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();t.RemoteFile=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{encoding:"utf-8",fetch:{}};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.url=e,this.chunk=null,this.index=0,this.done=!1,this.fetchInit=n.fetch,this.encoding=n.encoding,this.length=-1}return r(t,[{key:"readChunk",value:function(){var t=this;return this.done?Promise.resolve(new Uint8Array):this.chunk&&this.index<this.chunk.length?Promise.resolve(this.chunk):(this.reader||(this.reader=fetch(this.url,this.fetchInit).then(function(e){var n=e.headers.get("content-length");return t.length=n,isNaN(n)||n!=Number(n)||(t.length=Number(n)),e.body.getReader()})),this.reader.then(function(t){return t.read(8)}).then(function(e){var n=e.done,r=e.value;return t.chunk=r,t.done=n,n||(t.index=0),n?new Uint8Array(0):r}))}},{key:"readBytes",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024,n=0,r=new Uint8Array(e);return function i(){return t.readChunk().then(function(a){var o=t.index,s=t.index+a.length;s>r.length&&(s=t.index+(r.length-n));var c=a.slice(o,s);return r.set(c,n),t.index+=c.length,n+=c.length,!t.done&&e>n?i():r.slice(0,n)})}()}},{key:"readLine",value:function(){var t=this,e=0,n=[];return function r(){return t.readChunk().then(function(i){for(var a=!1,o=t.index,s=t.index+i.length,c=o;c<s;c++)if(10===i[c]||13===i[c]){for(s=c+1;13===i[s];)s++;a=!0;break}var u=i.slice(o,s);return n.splice.apply(n,[e,0].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(u))),t.index+=u.length,e+=u.length,t.done||a?new Uint8Array(n.slice(0,e)):r()})}().then(function(e){return t.decoder||(t.decoder=new TextDecoder(t.encoding)),t.decoder.decode(e)})}},{key:"readLines",value:function(t){var e=this;return this.readLine().then(function(n){return t(n),e.done?Promise.resolve():e.readLines(t)})}}]),t}()}),require.register("classpage/View.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=e("Config"),a=(e("curvature/base/Router"),e("curvature/base/View"));t.View=function(t){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));r.template=e("./view.tmp");var a=r.args.classname;return r.args.sourceRoot=i.Config.sourceRoot,r.args.bindTo("classname",function(t){r.args.encodedName=encodeURIComponent(t)}),r.args.bindTo("parent",function(t){r.args.encodedParent=encodeURIComponent(t)}),r.args.lines={},r.args.bindTo("lines",function(t){t&&Object.assign(r.args.lines,t)}),r.args.notes={},r.args.rawTags="",r.args.expanded={},r.args.bindTo("doc",function(t){t||(t=""),Object.assign(r.args.notes,r.processDocComment(t)),r.args.rawTags=JSON.stringify(r.args.notes.tags,null,4)}),r.args.methodCount=0,r.args.bindTo("methods",function(t){if(t)for(var e in r.args.methodCount=Object.keys(t).length,t){var n=t[e];for(var i in n.icon=r.getVisibilityIcon(n),n.scopeIcon=r.getScopeIcon(n),n.refIcon=r.getRefIcon(n),n.parameterCount=Object.keys(n.parameters).length,n.parameters){var o=n.parameters[i];o.defaultString="",o.hasDefault&&(o.defaultString=JSON.stringify(o.default,null,4))}n.rawTags="",n.doc&&(n.notes=r.processDocComment(n.doc),n.rawTags=JSON.stringify(n.notes.tags,null,4)),n.inherited=!1,n.overriden=!!n.overrides,a!==n.class&&(n.encodedClass=encodeURIComponent(n.class),n.inherited=!0)}}),r.args.propertyCount=0,r.args.bindTo("properties",function(t){if(t)for(var e in r.args.propertyCount=Object.keys(t).length,t){var n=t[e];n.icon=r.getVisibilityIcon(n),n.scopeIcon=r.getScopeIcon(n),n.defaultString="",null!==n.default&&(n.defaultString=JSON.stringify(n.default,null,4)),n.inherited=!1,a!==n.class&&(n.encodedClass=encodeURIComponent(n.class),n.inherited=!0)}}),r.args.constantCount=0,r.args.bindTo("constants",function(t){if(t){for(var e in r.args.constantCount=Object.keys(t).length,t){var n=t[e];n.icon=r.getVisibilityIcon(n),n.valuedString="",null!==n.value&&(n.valueString=JSON.stringify(n.value,null,4)),n.inherited=!1,n.class=n.class?n.class.name:"",n.file&&a!==n.class&&(n.encodedClass=encodeURIComponent(n.class),n.inherited=!0)}r.args.classes={},r.args.classes.bindTo(function(t,e){r.args.classList=Object.values(r.args.classes).filter(function(t){return t}).join(" ")},{wait:0})}}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,a.View),r(n,[{key:"processDocComment",value:function(t){var e=t.replace(/\n\s+\*\/?/g,"\n").replace(/\/\*\*\s+/g,"").replace(/\*\/$/g,"").trim().split(/\n/).map(function(t){return t.trim()});if(e){for(var n=void 0,r=[];n=e.shift();)r.push(n);var i=r.join("\n"),a=[],o=[];this.args.summary=i,console.log(i);var s=!0,c=!1,u=void 0;try{for(var l,f=e[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var p=l.value;p.match(/^@/)?o.push(p):o.length||a.push(p)}}catch(t){c=!0,u=t}finally{try{!s&&f.return&&f.return()}finally{if(c)throw u}}for(var d in o);return{summary:i,body:a.join("\n"),tags:o}}}},{key:"getRefIcon",value:function(t){if(t.reference)return"/link.svg"}},{key:"getScopeIcon",value:function(t){if(t.static)return"/connected.svg"}},{key:"getVisibilityIcon",value:function(t){return t.public?"/open-box.svg":t.protected?"/closed-box.svg":t.private?"/lock.svg":void 0}},{key:"expand",value:function(t,e){t.preventDefault(),this.args.expanded[e]=!this.args.expanded[e];var n="expand-"+e,r="collapse-"+e;this.args.expanded[e]?(this.args.classes[n]=n,this.args.classes[r]=""):(this.args.classes[n]="",this.args.classes[r]=r)}},{key:"encodeURI",value:function(t){return encodeURIComponent(t)}},{key:"arLen",value:function(t){return t&&(t.length||Object.keys(t).length)||0}}]),n}()}),require.register("classpage/view.tmp.html",function(t,e,n){n.exports='<div itemscope itemtype = "https://schema.org/APIReference" class = "[[classList]]" cv-if = "classname">\n\t<meta itemprop="assemblyVersion" content = "PHP 7+" />\n\t<meta itemprop="license" content = "https://www.apache.org/licenses/LICENSE-2.0" />\n\t<meta itemprop="dependencies" content = "PHP 7+" />\n\t<meta itemprop="inLanguage" content = "PHP 7+" />\n\t<meta itemprop="dependencies" content = "Kafka" />\n\t<meta itemprop="dependencies" content = "Ksql" />\n\t<meta itemprop = "keywords" content = "ksql,php,kafka" />\n\t<meta itemprop="programmingModel" content = "Object Oriented" />\n\n\t<meta itemprop = "url" content = "[[sourceRoot]][[file]]" />\n\n\t<span itemprop = "editor" itemscope itemtype="http://schema.org/Person">\n\t\t<meta itemprop="name" content = "[[author]]" />\n\t\t<meta itemprop = "url" content = "https://ksqlc.docs.unholysh.it/page/author" />\n\t</span>\n\n\t<span itemprop = "creator" itemscope itemtype="http://schema.org/Person">\n\t\t<meta itemprop="name" content = "[[author]]" />\n\t\t<meta itemprop = "url" content = "https://ksqlc.docs.unholysh.it/page/author" />\n\t</span>\n\n\t<span itemprop = "maintainer" itemscope itemtype="http://schema.org/Person">\n\t\t<meta itemprop="name" content = "[[author]]" />\n\t\t<meta itemprop = "url" content = "https://ksqlc.docs.unholysh.it/page/author" />\n\t</span>\n\n\t<span itemprop="isPartOf" itemscope itemtype="https://schema.org/SoftwareApplication">\n\t\t<meta itemprop = "name" content = "ksqlc" />\n\t\t<meta itemprop = "url" content = "https://ksqlc.docs.unholysh.it/" />\n\t\t<meta itemprop = "applicationCategory" content = "package" />\n\t\t<meta itemprop = "operatingSystem" content = "Windows 7, Max OSX 10.7, Linux">\n    </div>\n\t\n\n\t<h2 class = "mono">\n\t\t<span cv-if = "final" data-icon = "/final.svg">\n\t\t\t<img src = "/final.svg" />\n\t\t</span>\n\n\t\t<span cv-if = "abstract" data-icon = "/abstract.svg">\n\t\t\t<img src = "/abstract.svg" />\n\t\t</span>\n\n\t\t<span cv-if = "isPlainClass" data-icon = "/icosahedron.svg">\n\t\t\t<img src = "/icosahedron.svg" />\n\t\t</span>\n\n\t\t<span cv-if = "isTrait" data-icon = "/trait.svg">\n\t\t\t<img src = "/trait.svg" />\n\t\t</span>\n\n\t\t<span cv-if = "isInterface" data-icon = "/interface.svg">\n\t\t\t<img src = "/interface.svg" />\n\t\t</span>\n\t\t<span itemprop = "name" content = "[[shortname]]">[[shortname]]</span>\n\t</h2>\n\n\t<p class = "collapsible class-types row">\n\t\t<span cv-if = "final">final</span>\n\t\t<span cv-if = "abstract">abstract</span>\n\t\t<span cv-if = "iterable">iterable</span>\n\t\t<span cv-if = "isClass">class</span>\n\t\t<span cv-if = "isInterface">interface</span>\n\t\t<span cv-if = "isTrait">trait</span>\n\t\t<small class = "mono">\n\t\t\t<b itemprop="alternateName" content = "[[classname]]">[[classname]]</b>\n\t\t</small>\n\t</p>\n\n\t<small class = "mono">\n\t\t<a href = "[[sourceRoot]][[file]]#L[[lines.0]]-L[[lines.1]]" target = "_blank" itemprop = "executableLibraryName" content = "[[file]]">\n\t\t\t[[file]] : [[lines.0]] - [[lines.1]]\n\t\t</a>\n\t</small>\n\n\t<span cv-if = "notes.summary">\n\t\t<p class = "pre pad-top" cv-bind = "notes.summary"></p>\n\t</span>\n\n\t<span cv-if = "notes.body">\n\t\t<span data-collapse = "main" >\n\t\t\t<a href = "#" cv-on = \'click:expand(event, "main")\'>more...</a>\n\t\t</span>\n\t\t<span data-expand = "main">\n\t\t\t<a href = "#" cv-on = \'click:expand(event, "main")\'>less</a>\n\t\t\t<br />\n\t\t\t<span class ="pre" itemprop = "articleSection"><p cv-bind = "notes.body"></p></span>\n\t\t</span>\n\t</span>\n\n\t<div class = "row legend pad-vertical">\n\t\t<span data-icon = "/open-box.svg">\n\t\t\t<img src = "/open-box.svg">-&nbsp;public\n\t\t</span>\n\t\t<span data-icon = "/closed-box.svg">\n\t\t\t<img src = "/closed-box.svg">-&nbsp;protected\n\t\t</span>\n\t\t<span data-icon = "/lock.svg">\n\t\t\t<img src = "/lock.svg">-&nbsp;private\n\t\t</span>\n\t\t<span data-icon = "/connected.svg">\n\t\t\t<img src = "/connected.svg">-&nbsp;static\n\t\t</span>\n\t\t<span data-icon = "/link.svg">\n\t\t\t<img src = "/link.svg">-&nbsp;reference\n\t\t</span>\n\t\t<span data-icon = "/inherit.svg">\n\t\t\t<img src = "/inherit.svg" />-&nbsp;inherited\n\t\t</span>\n\t\t<span data-icon = "/override.svg">\n\t\t\t<img src = "/override.svg" />-&nbsp;override\n\t\t</span>\n\t</div>\n\n\t<small cv-if = "parent">\n\t\t<i>Extends <a cv-link = "/class/[[encodedParent]]" class = "mono">[[parent]]</a></i>\n\t</small>\n\n\t<small cv-if = "interfaces">\n\t\tImplements: <span cv-each = "interfaces:interface:i" cv-delim = ", ">\n\t\t\t<i><a cv-link = "/class/[[i|encodeURI]]" class = "mono">[[i]]</a></i>\n\t\t</span>\n\t</small>\n\n\t<div class = "row summary">\n\n\t\t<div cv-if = "methodCount">\n\t\t\t<h3>\n\t\t\t\t<span class = "icon" data-icon = "/function.svg">\n\t\t\t\t\t<img src = "/function.svg" />\n\t\t\t\t</span>\n\t\t\t\tmethods\n\t\t\t</h3>\n\t\t\t<ul cv-each = "methods:method:m">\n\t\t\t\t<li cv-with = "method" cv-carry = "m">\n\n\t\t\t\t\t<span cv-if = "icon" data-icon = "[[icon]]">\n\t\t\t\t\t\t<img src = "[[icon]]" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span cv-if = "scopeIcon" data-icon = "[[scopeIcon]]">\n\t\t\t\t\t\t<img src = "[[scopeIcon]]" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<a href = "#method-[[m]]" class = "mono">[[m]]()</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<div cv-if = "propertyCount">\n\t\t\t<h3>\n\t\t\t\t<span class = "icon" data-icon = "/field.svg">\n\t\t\t\t\t<img src = "/field.svg" />\n\t\t\t\t</span>\n\t\t\t\tproperties\n\t\t\t</h3>\n\t\t\t<ul cv-each = "properties:property:p">\n\t\t\t\t<li cv-with = "property" cv-carry = "p">\n\n\t\t\t\t\t<span cv-if = "icon" data-icon = "[[icon]]">\n\t\t\t\t\t\t<img src = "[[icon]]" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span cv-if = "scopeIcon" data-icon = "[[scopeIcon]]">\n\t\t\t\t\t\t<img src = "[[scopeIcon]]" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<a href = "#property-[[p]]" class = "mono f">[[p]]</a>\n\t\t\t\t\t<small cv-if = "defaultString" class = "mono">= [[defaultString]]</small>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<div cv-if = "constantCount">\n\t\t\t<h3>\n\t\t\t\t<span class = "icon" data-icon = "/constant.svg">\n\t\t\t\t\t<img src = "/constant.svg" />\n\t\t\t\t</span>\n\t\t\t\tcontstants\n\t\t\t</h3>\n\t\t\t<ul cv-each = "constants:constant:c">\n\t\t\t\t<li cv-with = "constant" cv-carry = "c">\n\t\t\t\t\t<div cv-if = "!overrides" class = "row">\n\t\t\t\t\t\t<span cv-if = "inherited" data-icon = "/inherit.svg">\n\t\t\t\t\t\t\t<img src = "/inherit.svg" />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<span cv-if = "overrides" data-icon = "/override.svg">\n\t\t\t\t\t\t<img src = "/override.svg" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span cv-if = "icon" data-icon = "[[icon]]">\n\t\t\t\t\t\t<img src = "[[icon]]" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<a href = "#constant-[[c]]" class = "mono">[[c]]</a>\n\t\t\t\t\t<small class = "mono">= [[valueString]]</small>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t</div>\n\n\t<div cv-if = "methodCount">\n\t\t<h3>\n\t\t\t<span class = "icon" data-icon = "/function.svg">\n\t\t\t\t<img src = "/function.svg" />\n\t\t\t</span>\n\t\t\tmethods\n\t\t</h3>\n\t\t<ul class = "methods details" cv-each = "methods:method:m">\n\t\t\t<li itemprop = "articleSection" cv-with = "method" cv-carry = "m,sourceRoot"  id = "method-[[m]]" class = "entry">\n\n\t\t\t\t<div class = "row pad">\n\t\t\t\t\t<span class = "icon" data-icon = "/function.svg">\n\t\t\t\t\t\t<img src = "/function.svg" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span class = "icon" cv-if = "icon" data-icon = "[[icon]]">\n\t\t\t\t\t\t<img src = "[[icon]]" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span class = "icon" cv-if = "scopeIcon" data-icon = "[[scopeIcon]]">\n\t\t\t\t\t\t<img src = "[[scopeIcon]]" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<div cv-if = "!overrides" class = "row">\n\t\t\t\t\t\t<span cv-if = "inherited" data-icon = "/inherit.svg">\n\t\t\t\t\t\t\t<img src = "/inherit.svg" />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<span cv-if = "overrides.0" data-icon = "/override.svg">\n\t\t\t\t\t\t<img src = "/override.svg" />...\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<h4 class = "mono">[[m]]()</h4>\n\n\t\t\t\t</div>\n\n\t\t\t\t<span class = "method-types pad-horizontal scope">\n\t\t\t\t\t<span cv-if = "inherited">inherited</span>\n\t\t\t\t\t<span cv-if = "final">final</span>\n\t\t\t\t\t<span cv-if = "abstract">abstract</span>\n\t\t\t\t\t<span cv-if = "public">public</span>\n\t\t\t\t\t<span cv-if = "protected">protected</span>\n\t\t\t\t\t<span cv-if = "private">private</span>\n\t\t\t\t\t<span cv-if = "static">static</span>\n\t\t\t\t\t<span cv-if = "variadic">variadic</span>\n\t\t\t\t\t<span cv-if = "generator">generator</span>\n\t\t\t\t\t<span cv-if = "overrides.0">override</span>\n\t\t\t\t\t<span>method</span>\n\t\t\t\t</span>\n\t\t\t\t\x3c!-- overrides --\x3e\n\n\t\t\t\t<div class = "pad-horizontal pre" cv-bind = "notes.summary"></div>\n\t\t\t\t<div class = "pad pre" cv-bind = "notes.body"></div>\n\n\t\t\t\t<div class = "col pad-horizontal">\n\n\t\t\t\t\t<span class = "row b" cv-if = "overriden">\n\t\t\t\t\t\t<h5>overrides:</h5>\n\t\t\t\t\t\t<a cv-link = "/class/[[overrides.0|encodeURI]]" cv-bind = "overrides.0"></a> :: <span cv-bind = "overrides.1"></span>()\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span class = "row b">\n\t\t\t\t\t\t<h5>class:</h5>\n\t\t\t\t\t\t<span class = "mono">\n\t\t\t\t\t\t\t<span cv-if = "!inherited" cv-bind = "class"></span>\n\t\t\t\t\t\t\t<span cv-if = "inherited">\n\t\t\t\t\t\t\t\t<a href = "/class/[[encodedClass]]" cv-bind = "class"></a>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span class = "row b" cv-if = "file">\n\t\t\t\t\t\t<h5>file:</h5>\n\t\t\t\t\t\t<a href = "[[sourceRoot]][[file]]#L[[lines.0]]-L[[lines.1]]" target = "_blank">\n\t\t\t\t\t\t\t<span cv-bind = "file" class = "mono"></span>\n\t\t\t\t\t\t\t&nbsp;:&nbsp;<span cv-bind = "lines.0" class = "mono"></span>\n\t\t\t\t\t\t\t&nbsp;-&nbsp;<span cv-bind = "lines.1" class = "mono"></span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span class = "row b"  cv-if = "parameterCount">\n\t\t\t\t\t\t<h5>parameters:</h5>\n\t\t\t\t\t\t<span class = "mono">[[parameters|arLen]]</span>\n\t\t\t\t\t\t<span class = "icon" data-icon = "/turn.svg">\n\t\t\t\t\t\t\t<img src = "/turn.svg" />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\n\t\t\t\t<div class = "params" cv-if = "parameters">\n\t\t\t\t\t<div  class = "row s" cv-each = "parameters:param:p" cv-delim = ",">\n\t\t\t\t\t\t<h5></h5>\n\t\t\t\t\t\t<div class = "param pad-horizontal nowrap" cv-with = "param" cv-carry = "p">\n\t\t\t\t\t\t\t<h6 class = "mono"><span cv-if = "variadic">...</span>[[p]]</h6>\n\t\t\t\t\t\t\t<p class = "param-types col" classs = "scope">\n\t\t\t\t\t\t\t\t<span cv-if = "!optional">required</span>\n\t\t\t\t\t\t\t\t<span cv-if = "optional">optional</span>\n\t\t\t\t\t\t\t\t<span cv-if = "reference">reference</span>\n\t\t\t\t\t\t\t\t<span cv-if = "hasDefault">default</span>\n\t\t\t\t\t\t\t\t<span cv-if = "callable">callable</span>\n\t\t\t\t\t\t\t\t<span cv-if = "array">array</span>\n\t\t\t\t\t\t\t\t<span cv-if = "variadic">variadic</span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<small cv-if = "hasDefault" class = "mono">[[defaultString]]</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\n\t<div cv-if = "propertyCount">\n\t\t<h3>\n\t\t\t<span class = "icon" data-icon = "/field.svg">\n\t\t\t\t<img src = "/field.svg" />\n\t\t\t</span>\n\t\t\tproperties\n\t\t</h3>\n\t\t<ul class = "properties details" cv-each = "properties:property:p">\n\t\t\t<li itemprop = "articleSection" cv-with = "property" cv-carry = "p,sourceRoot"  id = "property-[[p]]" class = "entry">\n\n\t\t\t\t<div class = "row pad">\n\n\t\t\t\t\t<span class = "icon" data-icon = "/field.svg">\n\t\t\t\t\t\t<img src = "/field.svg" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span class = "icon" cv-if = "icon" data-icon = "[[icon]]">\n\t\t\t\t\t\t<img src = "[[icon]]" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span class = "icon" cv-if = "scopeIcon" data-icon = "[[scopeIcon]]">\n\t\t\t\t\t\t<img src = "[[scopeIcon]]" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span class = "icon" cv-if = "refIcon" data-icon = "[[refIcon]]">\n\t\t\t\t\t\t<img src = "[[refIcon]]" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span cv-if = "inherited" data-icon = "/inherit.svg">\n\t\t\t\t\t\t<img src = "/inherit.svg" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<h4 class = "mono">\n\t\t\t\t\t\t[[p]]\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\n\t\t\t\t<div class = "pad-horizontal pre" cv-bind = "notes.summary"></div>\n\t\t\t\t<div class = "pad pre" cv-bind = "notes.body"></div>\n\n\t\t\t\t<span class = "method-types pad-horizontal scope">\n\t\t\t\t\t<span cv-if = "inherited">inherited</span>\n\t\t\t\t\t<span cv-if = "final">final</span>\n\t\t\t\t\t<span cv-if = "abstract">abstract</span>\n\t\t\t\t\t<span cv-if = "abstract">abstract</span>\n\t\t\t\t\t<span cv-if = "public">public</span>\n\t\t\t\t\t<span cv-if = "protected">protected</span>\n\t\t\t\t\t<span cv-if = "private">private</span>\n\t\t\t\t\t<span cv-if = "static">static</span>\n\t\t\t\t\t<span>property</span>\n\t\t\t\t</span>\n\n\t\t\t\t<div class = "col pad-horizontal">\n\n\t\t\t\t\t<span class = "row b" cv-if = "overriden">\n\t\t\t\t\t\t<h5>overrides:</h5>\n\t\t\t\t\t\t<a cv-link = "/class/[[overrides.0|encodeURI]]" cv-bind = "overrides.0"></a> :: <span cv-bind = "overrides.1"></span>()\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span class = "row b">\n\t\t\t\t\t\t<h5>class:</h5>\n\t\t\t\t\t\t<span class = "mono">\n\t\t\t\t\t\t\t<span cv-if = "!inherited" cv-bind = "class"></span>\n\t\t\t\t\t\t\t<span cv-if = "inherited">\n\t\t\t\t\t\t\t\t<a href = "/class/[[encodedClass]]" cv-bind = "class"></a>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span class = "row b" cv-if = "file">\n\t\t\t\t\t\t<h5>file:</h5>\n\t\t\t\t\t\t<a href = "[[sourceRoot]][[file]]#L[[lines.0]]-L[[lines.1]]" target = "_blank">\n\t\t\t\t\t\t\t<span cv-bind = "file" class = "mono"></span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span class = "row b" cv-if = "defaultString">\n\t\t\t\t\t\t<h5 class = "s">default:</h5>\n\t\t\t\t\t\t<p><span class = "pre mono" cv-bind = "defaultString"></span></p>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\n\t\t\t\t<span class = "pad" cv-bind = "notes.body"></span>\n\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\n\n\t<div cv-if = "constantCount">\n\t\t<h3>\n\t\t\t<span class = "icon" data-icon = "/constant.svg">\n\t\t\t\t<img src = "/constant.svg" />\n\t\t\t</span>\n\t\t\tcontstants\n\t\t</h3>\n\t\t<ul class = "properties details" cv-each = "constants:constant:c">\n\t\t\t<li itemprop = "articleSection" cv-with = "constant" cv-carry = "c,sourceRoot"  id = "constant-[[c]]" class = "entry">\n\n\t\t\t\t<div class = "row pad">\n\t\t\t\t\t<span class = "icon" data-icon = "/constant.svg">\n\t\t\t\t\t\t<img src = "/constant.svg" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span class = "icon" cv-if = "icon" data-icon = "[[icon]]">\n\t\t\t\t\t\t<img src = "[[icon]]" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<h4 class = "mono">[[c]]</h4>\n\t\t\t\t</div>\n\n\t\t\t\t<span class = "pad pre" cv-bind = "notes.summary"></span>\n\t\t\t\t<span class = "method-types pad-horizontal scope">\n\t\t\t\t\t<span cv-if = "public">public</span>\n\t\t\t\t\t<span cv-if = "protected">protected</span>\n\t\t\t\t\t<span cv-if = "private">private</span>\n\t\t\t\t\t<span cv-if = "static">static</span>\n\t\t\t\t\t<span cv-if = "inherited">inherited</span>\n\t\t\t\t\t<span>constant</span>\n\t\t\t\t</span>\n\n\t\t\t\t<div class = "pad-horizontal pre" cv-bind = "notes.summary"></div>\n\t\t\t\t<div class = "pad pre" cv-bind = "notes.body"></div>\n\n\t\t\t\t<div class = "col pad-horizontal">\n\t\t\t\t\t<span class = "row b">\n\t\t\t\t\t\t<h5>class:</h5>\n\t\t\t\t\t\t<span class = "mono">\n\t\t\t\t\t\t\t<span cv-if = "!inherited" cv-bind = "class"></span>\n\t\t\t\t\t\t\t<span cv-if = "inherited">\n\t\t\t\t\t\t\t\t<a href = "/class/[[encodedClass]]" cv-bind = "class"></a>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>>\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span class = "row b" cv-if = "file">\n\t\t\t\t\t\t<h5>file:</h5>\n\t\t\t\t\t\t<a href = "[[sourceRoot]][[file]]#L[[lines.0]]-L[[lines.1]]" target = "_blank">\n\t\t\t\t\t\t\t<span cv-bind = "file" class = "mono"></span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span  class = "row b" cv-if = "valueString">\n\t\t\t\t\t\t<h5>value:</h5>\n\t\t\t\t\t\t<span class = "pre mono" cv-bind = "valueString"></span>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\n\t\t\t\t<span class = "pad" cv-bind = "notes.body"></span>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\t\x3c!-- <span class = "pad pre" cv-bind = "dump"></span> --\x3e\n</div>\n'}),require.register("head.tmp.html",function(t,e,n){n.exports='<meta property="og:image" content="/banner.png">\n<meta property="og:image:alt" content="Ksqlc - The PHP KSQL Connector | Sean Morris">\n<meta name="viewport" content="width=680, user-scalable=no">'}),require.register("initialize.js",function(t,e,n){"use strict";var r=e("Config"),i=(e("curvature/base/Repository"),e("curvature/base/RuleSet")),a=e("curvature/base/Router"),o=e("./layout/View"),s=e("./menu/View"),c=e("./RemoteFile"),u=e("./Head");document.addEventListener("DOMContentLoaded",function(){var t=r.Config.pages,e=new s.View,n=new o.View({menu:e,pages:t});new c.RemoteFile(r.Config.source).readLines(function(t){var e=t.trim();if(e){var r=JSON.parse(e),i=!0,a=!1,o=void 0;try{for(var s,c=r[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var u=s.value;u&&u.classname&&(n.args.docs[u.classname]=u)}}catch(t){a=!0,o=t}finally{try{!i&&c.return&&c.return()}finally{if(a)throw o}}}}).finally(function(){var t=u.Head.get();e.args.filter=a.Router.queryOver({}).q||"",i.RuleSet.add("body",n),i.RuleSet.add("head",function(e){return t.render(e.element)}),i.RuleSet.apply(),a.Router.listen(n)}).catch(function(t){console.log(t)})})}),require.register("layout/Home.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Home=void 0;var r=e("Config"),i=e("curvature/base/View");e("./Loader");t.Home=function(t){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return i.template=e("./home.tmp"),i.args.links=r.Config.homeLinks,i.args.tagline=r.Config.tagline,i.args.author=r.Config.author,i.args.project=r.Config.project,i.args.copyright=r.Config.copyright,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,i.View),n}()}),require.register("layout/Info.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Info=void 0;var r=e("curvature/base/View"),i=e("./Loader");t.Info=function(t){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.template=e("./info.tmp"),r.args.loader=new i.Loader,r.onTimeout(750,function(){return r.args.loader=""}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,r.View),n}()}),require.register("layout/Loader.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=void 0;var r=e("curvature/base/View");t.Loader=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.template='<div class = "loader" src = "/spin.svg"></div>',n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.View),e}()}),require.register("layout/View.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=e("curvature/base/Repository"),a=e("curvature/base/Router"),o=e("curvature/base/View"),s=e("../classpage/View"),c=e("../modal/View"),u=e("./Loader"),l=(e("./Home"),e("./WhatsThis"),e("./Info"),e("../Head")),f=e("Config");t.View=function(t){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));r.template=e("./view.tmp"),r.args.menu=r.args.menu||"",r.args.docs=r.args.docs||{},r.args.pages=r.args.pages||{},r.args.modals=c.View.get(),r.args.content="",r.args.loader="";var i=r.args.docs,o=r.args.pages,s=r.args.menu,u=function(t){return function(e,n,r,i){s&&(s.args[t][n]=e,i&&delete s.args[t][n])}};return i.bindTo(u("docs")),o.bindTo(u("pages")),r.templates={},r.routes={"":function(t){return r.loadTemplatePage(Object.assign({},t,{page:"home"}))},readme:function(){a.Router.go("/page/readme")},"class/*":function(t){return r.loadClassPage(t)},"page/%page":function(t){return r.loadTemplatePage(t)},false:function(t){return r.setStatusCode(404),console.log(404,t,location.pathname),"404 - Page not found."}},r.args.menuActive="",r.args.menu.args.bindTo("active",function(t){r.args.menuActive="menu-"+t}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,o.View),r(n,[{key:"postRender",value:function(){l.Head.get().args.title=f.Config.title,document.body.offsetWidth>650&&this.args.menu.activate()}},{key:"activateMenu",value:function(){this.args.menu.activate()}},{key:"deactivateMenu",value:function(){this.args.menu.deactivate()}},{key:"setStatusCode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;l.Head.get().args.status=t}},{key:"loadClassPage",value:function(t){var e=this,n=decodeURIComponent(t.pathparts.join("\\")),r=new s.View,i=this.args.bindTo("docs",function(t,i,a,o){if(e.setStatusCode(0),t&&n&&t[n]){Object.assign(r.args,t[n],{dump:JSON.stringify(t[n],null,4)});var s=e.findTag(".main-content");s&&s.scrollTo({top:0}),document.activeElement.blur()}else e.setStatusCode(404)});return this.args.loader=new u.Loader,r.onRemove(i),new Promise(function(t){e.deactivateMenu(),e.onTimeout(250,function(){e.setStatusCode(200),console.log(r.args.summary,r.args),l.Head.get().args.title=r.args.shortname+" Class - "+f.Config.title,l.Head.get().args.description=r.args.notes.summary?r.args.notes.summary+" - "+f.Config.title:"View the documentation for "+r.args.shortname+" - "+f.Config.title,e.args.loader="",t(r)})})}},{key:"loadTemplatePage",value:function(t){var e=this;this.setStatusCode(0);var n=decodeURIComponent(t.page),r=f.Config.pages[n];return r?(this.args.loader=new u.Loader,i.Repository.request(r.template,{},!1,!0,{withCredentials:!1,responseType:"text",headers:{Accept:"application/vnd.github.v3.html+json"}}).then(function(t){var n=new o.View(Object.assign({},f.Config));return n.template=t.response,e.templates.readme=t.response,document.activeElement.blur(),e.deactivateMenu(),e.args.content="",new Promise(function(t){l.Head.get().args.title=r.title?r.title+" - "+f.Config.title:f.Config.title,l.Head.get().args.description=r.description?""+r.description:"",t(n),e.setStatusCode(200),e.onTimeout(250,function(){e.args.loader=""})})}).catch(function(t){return e.setStatusCode(500),console.log(t),t.message||"Unexpected error occurred."})):(this.setStatusCode(404),void document.activeElement.blur())}}]),n}()}),require.register("layout/WhatsThis.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WhatsThis=void 0;var r=e("curvature/base/View"),i=e("./Loader");t.WhatsThis=function(t){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.template=e("./whats-this.tmp"),r.args.loader=new i.Loader,r.onTimeout(750,function(){return r.args.loader=""}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,r.View),n}()}),require.register("layout/home.tmp.html",function(t,e,n){n.exports='<div class = "home col">\n\t<div class = "col">\n\t\t<h1>[[project]]</h1>\n\t\t<b>[[tagline]]</b>\n\t\t<i>Documentation generated by cv2-doc</i>\n\t\t\n\t\t<div>\n\t\t\t<a cv-link = "/readme">readme</a>\n\t\t\t• <a cv-link = "/license">license</a>\n\t\t\t<span cv-each = "links:url:title">\n\t\t\t\t• \n\t\t\t\t<a cv-link = "[[url]]">[[title]]</a>\n\t\t\t</span>\n\t\t</div>\n\n\t\t<div>\n\t\t\tSelect a class at left to begin.\n\t\t</div>\n\n\t\t<div>\n\t\t\t<small>&copy [[copyright]]</small>\n\t\t</div>\n\n\t\t<div cv-bind = "loader"></div>\n\t\t\n\t\t<div class = "copyright">\n\t\t\t<small>\n\t\t\t\tcv2-doc &copy 2019-2020 Sean Morris.<br />\n\t\t\t\t[[author]]/[[project]] &copy [[copyright]].\n\t\t\t</small>\n\t\t</div>\n\t</div>\n\n</div>'}),require.register("layout/info.tmp.html",function(t,e,n){n.exports='<div class = "home col">\n\t<div class = "col">\n\t\t<h1>Ksqlc</h1>\n\t\t<b>The PHP KSQL Connector</b>\n\t\t<i>Documentation generated by cv2-doc</i>\t\t\n\t\t<div>\n\t\t\t<a href = "/readme">readme</a>\n\t\t\t•\n\t\t\t<a href = "/license">license</a>\n\t\t\t•\n\t\t\t<a href = "https://github.com/seanmorris/ksqlc" target = "_blank">github</a>\n\t\t\t•\n\t\t\t<a href = "http://packagist.org/packages/seanmorris/ksqlc" target = "_blank">packagist</a>\n\t\t</div>\n\n\t\t<div>\n\t\t\tSelect a class on the left to begin.\n\t\t</div>\n\n\t\t<div>\n\t\t\t<small>&copy 2020 Sean Morris</small>\n\t\t</div>\n\n\t\t<div cv-bind = "loader"></div>\n\t\t\n\t</div>\n\n\t<div class = "copyright">\n\t\t<small>\n\t\t\tcv2-doc &copy 2020 Sean Morris.<br />\n\t\t\tSeanMorris/Ksqlc &copy 2020 Sean Morris.\n\t\t</small>\n\t</div>\n</div>'}),require.register("layout/view.tmp.html",function(t,e,n){n.exports='<div class = "layout [[menuActive]]">\n\n\t<div class = "fill">\n\t\t<div\n\t\t\tclass = "left-bar"\n\t\t\tcv-bind = "menu"></div>\n\t\t<div\n\t\t\tclass   = "main-content"\n\t\t\tcv-bind = "content"\n\t\t\tcv-on   = "\n\t\t\t\tclick:deactivateMenu(event);\n\t\t\t\tscroll:deactivateMenu(event):p\n\t\t\t"></div>\n\t</div>\n\n\t\x3c!-- <div class = "footer">cv2-doc&copy 2019 - 2020 Sean Morris</div> --\x3e\n</div>\n\n[[loader]]\n\n[[modals]]'}),require.register("layout/whats-this.tmp.html",function(t,e,n){n.exports='<div class = "home col">\n\t<div class = "col">\n\n\t\t<p>this documentation is rendered by</p>\n\n\t\t<h1>cv2-doc</h1>\n\t\t\n\t\t<p>cv2-doc renders documentation stored in github.</p>\n\t\t<p>cv2-doc can be hosted in <a href = "">github pages.</a></p>\n\t\t<p>cv2-doc is <b>serverless</b>.</p>\n\n\t\t<p><a href = "http://github.com/seanmorris/cv2-doc">more info</a>\n\n\t\t<div cv-bind = "loader"></div>\n\n\t</div>\n</div>\n'}),require.register("menu/View.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=e("curvature/base/Router"),a=e("curvature/base/View");t.View=function(t){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.template=e("./view.tmp"),r.args.prefix="",r.args.filter=r.args.filter||"",r.args.active="inactive",r.args.filteredClasses=r.args.filteredClasses||[],r.args.docs=r.args.docs||{},r.args.pages=r.args.pages||{},r.classBank={},r.loaded=!1,r.args.bindTo("docs",function(t){r.args.bindTo("filter",function(t){r.args.prefix;var e=Object.keys(r.args.docs).map(function(t){return r.classBank[t]||(r.classBank[t]=r.args.docs[t],r.args.docs[t].showClassname=t),r.args.docs[t]});t?i.Router.setQuery("q",t,!0):i.Router.setQuery("q",void 0,!0),r.args.filteredClasses=e.filter(function(e){return!t||e.showClassname.match(new RegExp(t,"i"))}).sort(function(t,e){return t.showClassname.localeCompare(e.showClassname)})})},{wait:0}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,a.View),r(n,[{key:"click",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.deactivate(),t.stopPropagation(),t.preventDefault(),e&&"string"!=typeof e){var n="/class/"+encodeURIComponent(e.classname);i.Router.go(n)}else i.Router.go("/"+e)}},{key:"activate",value:function(){this.args.active="active"}},{key:"deactivate",value:function(t){this.args.active="inactive"}},{key:"encodeURI",value:function(t){return t.replace(" ","-"),encodeURIComponent(t)}},{key:"toJson",value:function(t){return console.log(t),JSON.stringify(t)}},{key:"pageLink",value:function(t){var e=this.args.pages[t];return e?e.link||"/page/"+this.encodeURI(t):"#undefined"}},{key:"pageTitle",value:function(t){var e=this.args.pages[t];return e?e.title||t:"#undefined"}},{key:"linkTitle",value:function(t){var e=this.args.pages[t];return e?e.linkTitle||t:"#undefined"}}]),n}()}),require.register("menu/view.tmp.html",function(t,e,n){n.exports='<input cv-bind = "filter" placeholder = "search" cv-on = "focus:activate(event)" />\n\n<div class = "menu [[active]]" cv-on = "click:activate(event)" tabindex="0">\n\n\n\t\x3c!-- <b class = "pad-horizontal"><small>Pages</small></b> --\x3e\n\n\t<div cv-if = "!filter">\n\n\t\t<ul cv-each = "pages:page:p">\n\n\t\t\t<li class = "pad-horizontal" tabindex="0">\n\t\t\t\t<a class = "row nowrap" cv-link = "[[p|pageLink]]">\n\t\t\t\t\t<span data-icon = "/home.svg" title = "[[p]]">\n\t\t\t\t\t\t<img cv-attr = "src:page.icon" />\n\t\t\t\t\t</span>\n\t\t\t\t\t[[p|linkTitle]]\n\t\t\t\t</a>\n\t\t\t</li>\n\n\t\t</ul>\n\n\x3c!-- \t\t<ul>\n\t\t\t<li class = "pad-horizontal" tabindex="0">\n\t\t\t\t<a\n\t\t\t\t\tclass = "row nowrap classname"\n\t\t\t\t\thref  = "/class/"\n\t\t\t\t\tcv-on = "click:click(event, class);blur:deactivate(event);"\n\t\t\t\t>\n\t\t\t\t\t<span data-icon = "/github.svg" title = "final class">\n\t\t\t\t\t\t<img src = "/github.svg" />\n\t\t\t\t\t</span>\t\t\t\t\n\t\t\t\t\tsign in with github\n\t\t\t\t</span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t</ul> --\x3e\n\n\t</div>\n\n\t<div cv-if = "filter">\n\t\t<b class = "pad-horizontal"><small>Search</small></b>\n\n\t\t<small class = "pad-horizontal" cv-if = "!filteredClasses">\n\t\t\tNo results for "[[filter]]".\n\t\t</small>\n\n\t\t<ul cv-each = "filteredClasses:class:c">\n\t\t\t<li class = "pad-horizontal" tabindex="0">\n\t\t\t\t<a\n\t\t\t\t\tclass = "row nowrap classname"\n\t\t\t\t\thref  = "/class/[[class.classname|encodeURI]]"\n\t\t\t\t\tcv-on = "click:click(event, class);blur:deactivate(event);"\n\t\t\t\t>\n\t\t\t\t\t<span cv-if = "class.final" data-icon = "/final.svg" title = "final class">\n\t\t\t\t\t\t<img src = "/final.svg" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span cv-if = "class.abstract" data-icon = "/abstract.svg" title = "abstract class">\n\t\t\t\t\t\t<img src = "/abstract.svg" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<div cv-if = "class.isPlainClass" data-icon = "/icosahedron.svg" title = "class">\n\t\t\t\t\t\t<img src = "/icosahedron.svg" />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<span cv-if = "class.isTrait" data-icon = "/trait.svg" title = "trait">\n\t\t\t\t\t\t<img src = "/trait.svg" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span cv-if = "class.isInterface" data-icon = "/interface.svg" title = "interface">\n\t\t\t\t\t\t<img src = "/interface.svg" />\n\t\t\t\t\t</span>\n\t\t\t\t\n\t\t\t\t\t[[class.classname]]\n\t\t\t\t</span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t</ul>\n\n\t</div>\n\n\t<div cv-if = "!filter">\n\t\t<b class = "pad-horizontal"><small>Classes</small></b>\n\t\t<ul cv-each = "docs:class:c">\n\t\t\t<li class = "pad-horizontal" tabindex="0">\n\t\t\t\t<a\n\t\t\t\t\tclass = "row nowrap classname"\n\t\t\t\t\thref  = "/class/[[class.classname|encodeURI]]"\n\t\t\t\t\tcv-on = "click:click(event, class);blur:deactivate(event);"\n\t\t\t\t>\n\t\t\t\t\t<span cv-if = "class.final" data-icon = "/final.svg" title = "final class">\n\t\t\t\t\t\t<img src = "/final.svg" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span cv-if = "class.abstract" data-icon = "/abstract.svg" title = "abstract class">\n\t\t\t\t\t\t<img src = "/abstract.svg" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<div cv-if = "class.isPlainClass" data-icon = "/icosahedron.svg" title = "class">\n\t\t\t\t\t\t<img src = "/icosahedron.svg" />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<span cv-if = "class.isTrait" data-icon = "/trait.svg" title = "trait">\n\t\t\t\t\t\t<img src = "/trait.svg" />\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span cv-if = "class.isInterface" data-icon = "/interface.svg" title = "interface">\n\t\t\t\t\t\t<img src = "/interface.svg" />\n\t\t\t\t\t</span>\n\t\t\t\t\n\t\t\t\t\t[[class.classname]]\n\t\t\t\t</span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\n</div>\n'}),require.register("modal/Modal.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var r=e("curvature/base/View");t.Modal=function(t){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.args.modals=r.args.modals||[],r.template=e("./modal.tmp"),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,r.View),n}()}),require.register("modal/View.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=e("curvature/base/View");t.View=function(t){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.args.modals=r.args.modals||[],r.template=e("./view.tmp"),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,i.View),r(n,null,[{key:"get",value:function(){return this.instance=this.instance||new this}}]),n}()}),require.register("modal/modal.tmp.html",function(t,e,n){n.exports='<div class = "modal-window">Modal!</div>'}),require.register("modal/view.tmp.html",function(t,e,n){n.exports='<div class = "modals" cv-each = "modals:modal:m">[[modal]]</div>'}),require.register("___globals___",function(t,e,n){})}(),require("___globals___");
